{"data":{"markdownRemark":{"html":"<p>In this guide, we’ll walk through setting up a site with content management using <a href=\"https://github.com/netlify/netlify-cms\">Netlify\nCMS</a>.</p>\n<p>Netlify CMS is an open source, single page app written in React that lets you edit content and data\nfiles in your Git repository. Storing raw content right in the static site repository is an ideal\napproach, allowing both code and content to be versioned together, but that requires\nnon-technical editors to interact with a service like GitHub. Netlify CMS was created specifically\nto bridge this gap, providing a solid interface that works well for technical and non-technical\nusers alike, and interacts with your static site repository via API so that every change results in\na commit.</p>\n<p>A primary focus of Netlify CMS is to work well with static site generators like Gatsby. Installation\ntypically requires just an index.html file and a YAML configuration file, but we’re going to\nleverage the Gatsby plugin for Netlify CMS to automatically install and build the CMS along with a\nstatic site.</p>\n<p><em>Note: this guide uses the Gatsby Hello World starter to provide a very basic understanding of how\nNetlify CMS can work with your Gatsby site. If you get stuck, compare your code to the <a href=\"https://github.com/erquhart/gatsby-netlify-cms-example\">example\nproject</a>. If you’d like to start with a full\nblown template, check out\n<a href=\"https://github.com/AustinGreen/gatsby-starter-netlify-cms\">gatsby-starter-netlify-cms</a>.</em></p>\n<h3 id=\"setup\"><a href=\"#setup\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setup</h3>\n<p>First, open a new terminal window and run the following to create a new site. This will create a new\ndirectory called <code class=\"language-text\">netlify-cms-tutorial</code> that contains the starter site, but you can change\n“netlify-cms-tutorial” in the command below to be whatever you like.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">gatsby new netlify-cms-tutorial https://github.com/gatsbyjs/gatsby-starter-hello-world</code></pre>\n      </div>\n<p>Now move into the newly created directory and install the Gatsby plugin for Netlify CMS:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">cd</span> netlify-cms-tutorial <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save netlify-cms gatsby-plugin-netlify-cms</code></pre>\n      </div>\n<p>Gatsby plugins are registered in a file called <code class=\"language-text\">gatsby-config.js</code> in the site root. Create that file\nif it’s not already there, and add the following to register the Netlify CMS plugin:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-netlify-cms`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Finally, you’ll need to add a configuration file for the CMS itself. The plugin you just installed\nwill take care of creating the Netlify CMS app and outputting it to “/admin/index.html”, so you’ll\nwant to put the configuration file in that same directory.</p>\n<p>Still in the root directory, add a “static” folder. Gatsby will copy everything in the static folder\ninto the output, so we’ll want to place the Netlify CMS configuration file as\n“static/admin/config.yml”. Let’s create a test configuration now - add this to your new\n<code class=\"language-text\">config.yml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\">\n      <pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> test<span class=\"token punctuation\">-</span>repo\n\n<span class=\"token key atrule\">media_folder</span><span class=\"token punctuation\">:</span> static/assets\n<span class=\"token key atrule\">public_folder</span><span class=\"token punctuation\">:</span> assets\n\n<span class=\"token key atrule\">collections</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> blog\n    <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Blog\n    <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> blog\n    <span class=\"token key atrule\">create</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">fields</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Path <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Date<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> date <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> title<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Title <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> body<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">label</span><span class=\"token punctuation\">:</span> Body<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">widget</span><span class=\"token punctuation\">:</span> markdown <span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Then in your terminal run <code class=\"language-text\">gatsby develop</code> to start the Gatsby development server. Once the server\nis running, it will print the address to open for viewing. Its typically <code class=\"language-text\">localhost:8000</code>. Open that\nin a browser and you should see the text “Hello World” in the top left corner. Now navigate to\n<code class=\"language-text\">/admin/</code> - so if your site is at <code class=\"language-text\">localhost:8000</code>, go to <code class=\"language-text\">localhost:8000/admin/</code>. <strong>The trailing\nslash is required!</strong></p>\n<p>You should now be viewing your Netlify CMS instance. You defined a “blog” collection in the\nconfiguration above, so you can create new blogs, but Netlify CMS will only store them in memory -\nif you refresh, your changes won’t be there.</p>\n<h3 id=\"saving-to-a-git-repo\"><a href=\"#saving-to-a-git-repo\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Saving to a Git Repo</h3>\n<p>To save your content in a Git repo, the repo will need to be hosted on a service like GitHub, and\nyou’ll need a way to authenticate with that service so Netlify CMS can make changes through the\nservice’s API. For most services, including GitHub, authentication will require a server.\n<a href=\"https://www.netlify.com\">Netlify</a>, the web platform company that started Netlify CMS, provides a\nvery simple (and free) solution for this.</p>\n<p>This is also a good time to consider that Netlify CMS is meant to work in production, as a part of\nyour static site, and that the site would ideally be running on continuous deployment (every time\nthe repo changes, the website is rebuilt and redeployed automatically). When used in production,\nNetlify CMS and your Gatsby site will stay synced, since your site will be rebuilt after each\nchange, whereas running Netlify CMS locally requires you to pull changes from your remote each time\nto see them in the locally served site.</p>\n<h4 id=\"pushing-to-github\"><a href=\"#pushing-to-github\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pushing to GitHub</h4>\n<p>We can resolve all of the above handily by pushing our test site to GitHub and deploying it to\nNetlify. First, initialize your Gatsby project as a Git repo, and push it up to GitHub. If you need\nhelp on this part, check out GitHub’s\n<a href=\"https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\">guide</a>.</p>\n<h4 id=\"deploying-to-netlify\"><a href=\"#deploying-to-netlify\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deploying to Netlify</h4>\n<p>Now you can publish your Gatsby site straight from GitHub to Netlify from the <a href=\"https://app.netlify.com/start\">create site\npage</a> - the proper build command for Gatsby will be provided\nautomatically, just select your GitHub repo and go with the default options. Once you connect your\nGitHub repo to Netlify, deployment will begin. Note that the first deployment could take a few\nminutes since a lot of things aren’t cached yet. Subsequent deploys will be faster.</p>\n<p>Once deployment is complete you’ll be able to view your live site, which should look the same as it\ndid locally.</p>\n<h4 id=\"authenticating-with-github\"><a href=\"#authenticating-with-github\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authenticating with GitHub</h4>\n<p>Netlify CMS will need to authenticate with GitHub to save your content changes to your repo. As\nmentioned above, this requires a server, and Netlify handles that aspect for you. First you’ll need\nto add your deployed site as an OAuth application in your GitHub settings - just follow the steps in\nthe <a href=\"https://www.netlify.com/docs/authentication-providers/#using-an-authentication-provider\">Netlify\ndocs</a>. This\nwill allow scripts running on your deployed site, such as Netlify CMS, to access your GitHub\naccount via API.</p>\n<p>Lastly, we’ll need to change your Netlify CMS config file with your GitHub repo information so that\nchanges are saved there. Replace the <code class=\"language-text\">backend</code> value in your <code class=\"language-text\">static/admin/config.yml</code> to match the\nexample below. Note that the <code class=\"language-text\">repo</code> value must be your GitHub username followed immediately by a\nforward slash, and then your repository name. If your username is “test-user” and your repo name is\n“test-repo”, you would put “test-user/test-repo”.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\">\n      <pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">backend</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> github\n  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> your<span class=\"token punctuation\">-</span>username/your<span class=\"token punctuation\">-</span>repo<span class=\"token punctuation\">-</span>name</code></pre>\n      </div>\n<p>Now you can save the config.yml file, commit the change, and push it to your GitHub repo.</p>\n<h4 id=\"making-changes\"><a href=\"#making-changes\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Making Changes</h4>\n<p>Alright - you’re all set to make changes in Netlify CMS and see them as commits in your GitHub repo!\nOpen Netlify CMS on your deployed site at <code class=\"language-text\">/admin/</code>, allow access to GitHub when the permissions\nwindow pops up (check for blocked pop ups if you don’t see it), and try creating and publishing a\nnew blog post. Once you’ve done that, you’ll find a new “blog” directory in your GitHub repo\ncontaining a Markdown file with your blog post content!</p>\n<p>This is the basic function of Netlify CMS - providing a comfortable editing experience and\noutputting raw content files to a Git repository. You’ve probably noticed that, even though the file\nwas created in your repo, it’s not anywhere on your site. That’s because Netlify CMS doesn’t go\nbeyond creating the raw content - it’s able to work with almost any static site generator because it\nallows the generator to determine how to build the raw content into something useful, whether for a\nwebsite, mobile app, or something else entirely.</p>\n<p>Right now, Gatsby doesn’t know the new blog post is there, and it isn’t set up to process Markdown.\nLet’s fix that.</p>\n<h3 id=\"processing-netlify-cms-output-with-gatsby\"><a href=\"#processing-netlify-cms-output-with-gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Processing Netlify CMS Output with Gatsby</h3>\n<p>Gatsby can be configured to process Markdown by following the <a href=\"/docs/adding-markdown-pages/\">Adding Markdown\nPages</a> guide in the docs. Our <code class=\"language-text\">config.yml</code>\nfile for Netlify CMS is set up to use the same fields used in the guide, so you can follow the\ninstructions to the letter and should work fine. <strong>Note:</strong> When configuring the\n<code class=\"language-text\">gatsby-source-filesystem</code> plugin in the Adding Markdown Pages Guide, the path to your markdown\nfiles should be <code class=\"language-text\">${__dirname}/blog</code>.</p>\n<p>Once this is complete, get your changes committed and pushed up to your GitHub repo and check your\nsite! The new blog post will be at whatever you entered in the path field when creating your blog\nentry in Netlify CMS. If you followed the example in Gatsby’s Adding Markdown Pages guide and used\n“/blog/my-first-blog”, then your blog post would be at\n“your-site-name.netlify.com/blog/my-first-blog”.</p>\n<h3 id=\"wrapping-up\"><a href=\"#wrapping-up\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Wrapping Up</h3>\n<p>This was a very basic example meant to help you understand how Netlify CMS works with Gatsby. As\nmentioned in the beginning of this guide, if you got stuck, you can compare your code to the\n<a href=\"https://github.com/erquhart/gatsby-netlify-cms-example\">example repo</a>, which is a working example\ncreated by following this guide. You can also reach out to the Netlify CMS community on\n<a href=\"https://gitter.im/netlify/netlifycms\">Gitter</a>. Lastly, if you’d like to move into a more complete\nboilerplate to get going with Gatsby and Netlify CMS, you can clone and deploy the <a href=\"https://github.com/AustinGreen/gatsby-starter-netlify-cms\">official Gatsby\nNetlify CMS starter</a> to Netlify with <a href=\"https://app.netlify.com/start/deploy?repository=https://github.com/AustinGreen/gatsby-starter-netlify-cms&#x26;stack=cms\">one\nclick</a>.</p>","excerpt":"In this guide, we’ll walk through setting up a site with content management using  Netlify\nCMS . Netlify CMS is an open source, single page…","timeToRead":7,"fields":{"slug":"/docs/netlify-cms/","anchor":"netlify-cms"},"frontmatter":{"title":"Netlify CMS"},"parent":{"__typename":"File","relativePath":"docs/netlify-cms.md"}}},"pageContext":{"slug":"/docs/netlify-cms/"}}