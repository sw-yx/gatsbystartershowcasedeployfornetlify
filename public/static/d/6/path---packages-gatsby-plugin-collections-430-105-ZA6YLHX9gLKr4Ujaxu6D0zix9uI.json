{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-plugin-collections","description":"Creates Gatsby pages from flat folders of Markdown files, with support for pagination and customizable permalinks","keywords":["gatsby","gatsby-plugin"],"lastPublisher":{"name":"mikefowler","avatar":"https://gravatar.com/avatar/6e4df57661fc4fa1a6d2bcc8d6f46273"},"repository":null,"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-collections\"><a href=\"#gatsby-collections\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby Collections</h1>\n<p>Curious about Gatsby, but nervous about porting your Jekyll website? <em>Gatsby Collections</em> attempts to make the process a little smoother.</p>\n<h2 id=\"what-are-collections\"><a href=\"#what-are-collections\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What are collections?</h2>\n<p>Collections allow you to quickly create pages from a flat folder of Markdown files, with full control over permalinks and pagination. Collections work a lot like‚Äîand are completely derivative of‚ÄîJekyll‚Äôs <a href=\"https://jekyllrb.com/docs/collections/\">collections</a>.</p>\n<p>Let‚Äôs say you define a <code class=\"language-text\">posts</code> collection. You specify that the source files are in <code class=\"language-text\">src/posts</code>, and that you want the output URLs to use the permalink template <code class=\"language-text\">/:year/:month/:day/:title</code>. Then you create a file at <code class=\"language-text\">src/posts/2017-12-28-hello-world.md</code>. When Jekyll builds your site, your page will be built at <code class=\"language-text\">/2017/12/28/hello-world/</code>.</p>\n<p>üéâüéâüéâ</p>\n<h2 id=\"tutorial\"><a href=\"#tutorial\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tutorial</h2>\n<p>This tutorial will bring you through the process of creating a ‚Äúposts‚Äù collection.</p>\n<ol>\n<li>\n<p>You‚Äôll need a few dependencies. If you‚Äôve already started a Gatsby site, you may already have a couple of these.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">yarn add gatsby-source-filesystem gatsby-paginate gatsby-plugin-collections\n\n// OR\n\nnpm install gatsby-source-filesystem gatsby-paginate gatsby-plugin-collections</code></pre>\n      </div>\n</li>\n<li>\n<p>In <code class=\"language-text\">gatsby-config.js</code>, add a configuration block specifying that nodes should be sourced from <code class=\"language-text\">src/posts</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-source-filesystem'</span><span class=\"token punctuation\">,</span>\n  options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/posts/`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n</li>\n<li>\n<p>If you haven‚Äôt already, configure <code class=\"language-text\">gatsby-plugin-remark</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-transformer-remark'</span><span class=\"token punctuation\">,</span>\n  options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre>\n      </div>\n</li>\n<li>\n<p>Now add a configuration block defining our ‚Äúposts‚Äù collection:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-collections'</span><span class=\"token punctuation\">,</span>\n  options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    collections<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'posts'</span><span class=\"token punctuation\">,</span>\n      folder<span class=\"token punctuation\">:</span> <span class=\"token string\">'src/posts'</span><span class=\"token punctuation\">,</span>\n      permalink<span class=\"token punctuation\">:</span> <span class=\"token string\">'/journal/:year/:month/:day/:title'</span><span class=\"token punctuation\">,</span>\n      template<span class=\"token punctuation\">:</span> <span class=\"token string\">'journal-entry'</span><span class=\"token punctuation\">,</span>\n      paginate<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        perPage<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n        prefix<span class=\"token punctuation\">:</span> <span class=\"token string\">'journal'</span><span class=\"token punctuation\">,</span>\n        template<span class=\"token punctuation\">:</span> <span class=\"token string\">'journal'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n</li>\n<li>\n<p>You are done!</p>\n</li>\n</ol>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h2>\n<p>Each collection accepts the following configuration options:</p>\n<ul>\n<li><em><code class=\"language-text\">name (string)</code></em>: the name of the collection</li>\n<li><em><code class=\"language-text\">folder (string) [required]</code></em>: a relative path containing your collection‚Äôs source files</li>\n<li><em><code class=\"language-text\">permalink (string)</code></em>: the template string for the collection‚Äôs output URLs</li>\n<li><em><code class=\"language-text\">template (string)</code></em>: a relative path to the React component each collection item should use to render</li>\n<li>\n<p><em><code class=\"language-text\">paginate (Object)</code></em>: defines pagination options. If an object is provided, it will be assumed that you want your collection paginated.</p>\n<ul>\n<li><em><code class=\"language-text\">perPage (Number)</code></em>: the number of items to be displayed on each paginated page</li>\n<li><em><code class=\"language-text\">template (string) [required]</code></em>: a relative path to the React component that will be used to render the pagination pages.</li>\n<li><em><code class=\"language-text\">prefix</code> (string)</em>: an optional string to append before the paginated page URLs. You will want to use this if you are paginating multiple collections. A value of ‚Äújournal‚Äù will result in paginated URLs such as <code class=\"language-text\">/journal</code>, <code class=\"language-text\">/journal/2</code>, <code class=\"language-text\">/journal/3</code>, etc.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"permalinks\"><a href=\"#permalinks\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Permalinks</h2>\n<p>Permalinks in <em>Gatsby Collections</em> function much the same as in <a href=\"https://jekyllrb.com/docs/permalinks/\">Jekyll</a>. When you specify a permalink for your collection, you are specifying a <em>template</em> that will be used to build your URLs. One example of a permalink template is <code class=\"language-text\">/:year/:month/:day/:title</code>.</p>\n<p>Setting the permalink in your node‚Äôs front matter will override the setting specified by your collection:</p>\n<div class=\"gatsby-highlight\" data-language=\"md\">\n      <pre class=\"language-md\"><code class=\"language-md\">---\ntitle: Hello, world!\npermalink: /hello\n---</code></pre>\n      </div>\n<p>In addition to specifying your own template string using the <a href=\"https://jekyllrb.com/docs/permalinks/#template-variables\">available template variables</a>, you can specify several presets by name:</p>\n<ul>\n<li><code class=\"language-text\">pretty</code>: <code class=\"language-text\">/:categories/:year/:month/:day/:title</code></li>\n<li><code class=\"language-text\">ordinal</code>: <code class=\"language-text\">/:categories/:year/:y_day/:title</code></li>\n<li><code class=\"language-text\">none</code>: <code class=\"language-text\">/:categories/:title</code></li>\n</ul>\n<h2 id=\"templates\"><a href=\"#templates\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Templates</h2>\n<h3 id=\"item-templates\"><a href=\"#item-templates\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Item Templates</h3>\n<p>Item templates are no different than the <a href=\"https://github.com/gatsbyjs/gatsby-starter-blog/blob/master/src/templates/blog-post.js\">sample template</a> provided with <code class=\"language-text\">gatsby-starter-blog</code>. <em>Gatsby Collections</em> automatically adds your page‚Äôs <code class=\"language-text\">slug</code> to the context, so querying your post by <code class=\"language-text\">slug</code> will work out of the box.</p>\n<h3 id=\"pagination-templates\"><a href=\"#pagination-templates\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pagination Templates</h3>\n<p>Pagination templates are used to create the pages that display a list of your collection items. The template is a standard React component. It receives props that provide the group of nodes available for display on this page, as well as metadata for displaying the current, next, and previous, page numbers. For more information, reference the documentation for <a href=\"https://github.com/pixelstew/gatsby-paginate\">gatsby-paginate</a>.</p>\n<p>A pagination template might look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  pathContext<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span><span class=\"token function\">shape</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    group<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">,</span>\n    index<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span>number<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isRequired<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">JournalPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> pathContext <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    group<span class=\"token punctuation\">,</span>\n    index<span class=\"token punctuation\">,</span>\n    pageCount<span class=\"token punctuation\">,</span>\n    pathPrefix<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> pathContext<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> previousPage <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> nextPage <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">===</span> pageCount<span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>group<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Page <span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span> <span class=\"token keyword\">of</span> <span class=\"token punctuation\">{</span>pageCount<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nJournalPage<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> propTypes<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> JournalPage<span class=\"token punctuation\">;</span></code></pre>\n      </div>","timeToRead":4}}}},"pageContext":{"slug":"/packages/gatsby-plugin-collections/","id":"50a1d42c-0478-5049-86d2-b2bd9cb3e451"}}