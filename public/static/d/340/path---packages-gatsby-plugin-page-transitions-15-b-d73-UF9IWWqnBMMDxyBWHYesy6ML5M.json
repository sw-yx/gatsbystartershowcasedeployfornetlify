{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-plugin-page-transitions","description":"Gatsby plugin to set page transitions","keywords":["gatsby","gatsby-plugin","page","transitions","page-transitions"],"lastPublisher":{"name":"mongkuen","avatar":"https://gravatar.com/avatar/6265f40828cde9c50f569217ebabe0a9"},"repository":{"url":"https://github.com/mongkuen/gatsby-plugin-page-transitions"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-plugin-page-transitions\"><a href=\"#gatsby-plugin-page-transitions\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-plugin-page-transitions</h1>\n<p>Add page transitions to your Gatsby site.</p>\n<p><img src=\"https://cdn.rawgit.com/mongkuen/gatsby-plugin-page-transitions/da195e50/transition.gif\" alt=\"gatsby-plugin-page-transitions demo\"></p>\n<p>Allows you to declaratively add page transitions, as well as specify unique transition strategies for any page on an individual basis.</p>\n<p>Examples of usage can be found in the Github repository <a href=\"https://github.com/mongkuen/gatsby-plugin-page-transitions/tree/master/examples\">here</a>.</p>\n<p>Examples cover:</p>\n<ul>\n<li>Default Transition</li>\n<li>Custom Transition</li>\n<li>No Transition</li>\n<li>Multiple Transitions</li>\n</ul>\n<h2 id=\"install\"><a href=\"#install\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<ol>\n<li>\n<p>Install the <code class=\"language-text\">gatsby-plugin-page-transitions</code> plugin:</p>\n<p><code class=\"language-text\">npm install --save gatsby-plugin-page-transitions</code></p>\n<p>or</p>\n<p><code class=\"language-text\">yarn add gatsby-plugin-page-transitions</code></p>\n</li>\n</ol>\n<h2 id=\"usage\"><a href=\"#usage\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h2>\n<ol>\n<li>Add into <code class=\"language-text\">gatsby-config.js</code>.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// gatsby-config.js</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'gatsby-plugin-page-transitions'</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<ol start=\"2\">\n<li>Import <code class=\"language-text\">PageTransition</code>, and wrap the root of each <strong>page</strong> where transitions are desired with the <code class=\"language-text\">PageTransition</code> component</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PageTransition <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-page-transitions'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Index</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>PageTransition<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Some<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Content<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Here<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>PageTransition<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>Pages that are not wrapped with the <code class=\"language-text\">PageTransition</code> element navigate immediately, allowing you to decaratively specify which pages has transitions.</p>\n<h2 id=\"configuration-options\"><a href=\"#configuration-options\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration Options</h2>\n<p>If no options are specified, the plugin defaults to:</p>\n<ol>\n<li>Transition time of 250ms. This is the amount of time the browser blocks navigation, waiting for the animation to finish.</li>\n<li>Opacity <code class=\"language-text\">ease-in-out</code> transition from the <code class=\"language-text\">react-transition-group</code> examples, <a href=\"https://reactcommunity.org/react-transition-group/transition\">here</a>.</li>\n</ol>\n<p>There is a convenience option to let you modify the transition time on the default opacity transitions, like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// gatsby-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-page-transitions'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        transitionTime<span class=\"token punctuation\">:</span> <span class=\"token number\">500</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h2 id=\"advanced\"><a href=\"#advanced\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Advanced</h2>\n<p>If you want to specify your own transition styles when the component enters or leaves, you can do so by passing props into the <code class=\"language-text\">PageTransition</code> component.</p>\n<p>The component takes in 3 props:</p>\n<ol>\n<li><code class=\"language-text\">duration</code>: How long the browser should wait for the animation until navigating. This number should match the CSS <code class=\"language-text\">transition</code> time you chose to</li>\n<li><code class=\"language-text\">defaultStyle</code>: JS style object of what the component looks like default</li>\n<li><code class=\"language-text\">transitionStyles</code>: Object with keys of the transition states (<code class=\"language-text\">entering</code>, <code class=\"language-text\">entered</code>, <code class=\"language-text\">exiting</code>, <code class=\"language-text\">exited</code>) that have JS style objects of the styles of each transition state.</li>\n</ol>\n<p>These follow the transitional styling convention from <code class=\"language-text\">react-transition-group</code> <a href=\"https://reactcommunity.org/react-transition-group/transition\">here</a>.\nThe plugin is a wrapper around <code class=\"language-text\">react-transition-group</code>, so please see their <a href=\"https://reactcommunity.org/react-transition-group/transition\">documentation</a> for implementation details.</p>\n<p>For an example, if you wanted a transition to:</p>\n<ul>\n<li>Slide in and out from the left</li>\n<li>Lasting 500ms</li>\n<li>Transitions with a cubic-bezier function</li>\n</ul>\n<p>Just pass your desired transition down as props into the <code class=\"language-text\">PageTransition</code> element.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PageTransition <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-page-transitions'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Index</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>PageTransition\n    defaultStyle<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n      transition<span class=\"token punctuation\">:</span> <span class=\"token string\">'left 500ms cubic-bezier(0.47, 0, 0.75, 0.72)'</span><span class=\"token punctuation\">,</span>\n      left<span class=\"token punctuation\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\n      position<span class=\"token punctuation\">:</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">,</span>\n      width<span class=\"token punctuation\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    transitionStyles<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n      entering<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> left<span class=\"token punctuation\">:</span> <span class=\"token string\">'0%'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      entered<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> left<span class=\"token punctuation\">:</span> <span class=\"token string\">'0%'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      exiting<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> left<span class=\"token punctuation\">:</span> <span class=\"token string\">'100%'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    transitionTime<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">500</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Some<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Content<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Here<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>PageTransition<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>Notice that <code class=\"language-text\">500ms</code> string is specified as the transition length in the JS CSS object. The component needs to be passed <code class=\"language-text\">500</code> in the <code class=\"language-text\">transitionTime</code> prop, so the browser can wait for the animation to finish before navigation to the next path.</p>\n<p>You can use this method to specify unique transition strategies for each page individually, or wrap <code class=\"language-text\">PageTransition</code> yourself for a custom reusable transition.</p>\n<h2 id=\"page-transition-event\"><a href=\"#page-transition-event\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page Transition Event</h2>\n<p>At a high level the plugin operates this way:</p>\n<ol>\n<li>User clicks a link to another page.</li>\n<li>Page change is caught, and navigation is paused for however long the <code class=\"language-text\">transitionTime</code> is specified.</li>\n<li>Page transition event <code class=\"language-text\">&#39;gatsby-plugin-page-transition::exit&#39;</code> is fired.</li>\n<li>Rendered components listening to the page transition event plays the transition.</li>\n<li>Pause is released, and browser navigates.</li>\n</ol>\n<p>If you require even more control, such as making different elements on the page transition in different ways, you’ll need to listen for the page’s transition event. Full implementation found in the examples <a href=\"https://github.com/mongkuen/gatsby-plugin-page-transitions/tree/master/examples\">here</a>.</p>\n<p>If you are using <code class=\"language-text\">react-transition-group</code>’s <code class=\"language-text\">Transition</code> component as specified <a href=\"http://reactcommunity.org/react-transition-group/transition\">here</a>, then your page might generically look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> PageTransition <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-plugin-page-transitions'</span>\n<span class=\"token keyword\">import</span> Transition <span class=\"token keyword\">from</span> <span class=\"token string\">'react-transition-group/Transition'</span>\n\n<span class=\"token keyword\">const</span> pageTransitionEvent <span class=\"token operator\">=</span> <span class=\"token string\">'gatsby-plugin-page-transition::exit'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> defaultStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Default transition styling</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> transitionStyles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Transition styling</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomComponent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span> <span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>listenHandler <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>listenHandler<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    global<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>pageTransitionEvent<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>listenHandler<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">listenHandler</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    global<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span>pageTransitionEvent<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>listenHandler<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>PageTransition transitionTime<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">500</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Transition <span class=\"token keyword\">in</span><span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">}</span> timeout<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">500</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>div style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n              <span class=\"token operator\">...</span>defaultStyle<span class=\"token punctuation\">,</span>\n              <span class=\"token operator\">...</span>transitionStyles<span class=\"token punctuation\">[</span>state<span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n              Elements\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Transition<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>PageTransition<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>This component is doing several things:</p>\n<p>Per <code class=\"language-text\">react-transition-group</code>, there is local state <code class=\"language-text\">this.state.in</code> tracking if transitioning elements should be “in” or not</p>\n<ol>\n<li>\n<p><code class=\"language-text\">this.state.in</code> begins as <code class=\"language-text\">false</code>, with elements not “in”.</p>\n</li>\n<li>\n<p>On mount, <code class=\"language-text\">this.state.in</code> is flipped to <code class=\"language-text\">true</code>, and elements are transitioned in.</p>\n</li>\n<li>\n<p>On mount, component begins listening to <code class=\"language-text\">gatsby-plugin-page-transition::exit</code></p>\n</li>\n<li>\n<p>When user navigates away, global window <code class=\"language-text\">gatsby-plugin-page-transition::exit</code> event fires</p>\n</li>\n<li>\n<p><code class=\"language-text\">&lt;PageTransition transitionTime={500}&gt;</code> component will handle event by pausing navigation, with an allotted <code class=\"language-text\">transitionTime</code> of 500ms</p>\n</li>\n<li>\n<p>Local component <code class=\"language-text\">listenHandler</code> sets <code class=\"language-text\">this.state.in</code> to <code class=\"language-text\">false</code>, and elements are transitioned out. Transitions should take 500ms or less, if they are to complete before page navigation.</p>\n</li>\n<li>\n<p>Transitions complete, page navigates, component cleans up listeners.</p>\n</li>\n</ol>","timeToRead":5}}}},"pageContext":{"slug":"/packages/gatsby-plugin-page-transitions/","id":"08b2445c-4f6a-5830-bbe6-9d5a5ce6ffeb"}}