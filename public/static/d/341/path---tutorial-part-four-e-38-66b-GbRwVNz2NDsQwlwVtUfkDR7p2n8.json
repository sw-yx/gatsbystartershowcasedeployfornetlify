{"data":{"markdownRemark":{"html":"<p>Welcome to Part Four of the tutorial! Halfway through! Hope things are starting\nto feel pretty comfortable üòÄ</p>\n<h2 id=\"recap-of-first-half-of-the-tutorial\"><a href=\"#recap-of-first-half-of-the-tutorial\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recap of first half of the tutorial</h2>\n<p>So far, you‚Äôve been learning how to use React.js‚Äîhow powerful it is to be able to\ncreate your <em>own</em> components to act as custom building blocks for websites.</p>\n<p>You‚Äôve also explored styling components using CSS Modules.</p>\n<h2 id=\"whats-in-this-tutorial\"><a href=\"#whats-in-this-tutorial\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What‚Äôs in this tutorial?</h2>\n<p>In the next four parts of the tutorial (including this one), you‚Äôll be diving into the Gatsby data layer, which is a powerful feature of Gatsby that lets you easily build sites from Markdown, WordPress, headless CMSs, and other data sources of all flavors.</p>\n<p><strong>NOTE:</strong> Gatsby‚Äôs data layer is powered by GraphQL. For an in-depth tutorial on\nGraphQL, we recommend <a href=\"https://www.howtographql.com/\">How to GraphQL</a>.</p>\n<h2 id=\"data-in-gatsby\"><a href=\"#data-in-gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data in Gatsby</h2>\n<p>A website has four parts, HTML, CSS, JS, and data. The first half of the\ntutorial focused on the first three. Let‚Äôs learn now how to use data in Gatsby\nsites.</p>\n<p>What is data?</p>\n<p>A very computer science-y answer would be: data is things like <code class=\"language-text\">&quot;strings&quot;</code>,\nintegers (<code class=\"language-text\">42</code>), objects (<code class=\"language-text\">{ pizza: true }</code>), etc.</p>\n<p>For the purpose of working in Gatsby, however, a more useful answer is\n‚Äúeverything that lives outside a React component‚Äù.</p>\n<p>So far, you‚Äôve been writing text and adding images <em>directly</em> in components.\nWhich is an <em>excellent</em> way to build many websites. But, often you want to store\ndata <em>outside</em> components and then bring the data <em>into</em> the component as\nneeded.</p>\n<p>For example, if you‚Äôre building a site with WordPress (so other contributors\nhave a nice interface for adding &#x26; maintaining content) and Gatsby, the <em>data</em>\nfor the site (pages and posts) are in WordPress and you <em>pull</em> that data, as\nneeded, into your components.</p>\n<p>Data can also live in file types like Markdown, CSV, etc. as well as databases\nand APIs of all sorts.</p>\n<p><strong>Gatsby‚Äôs data layer lets you pull data from these (and any other source)\ndirectly into your components</strong>‚Äîin the shape and form you want.</p>\n<h2 id=\"how-gatsbys-data-layer-uses-graphql-to-pull-data-into-components\"><a href=\"#how-gatsbys-data-layer-uses-graphql-to-pull-data-into-components\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How Gatsby‚Äôs data layer uses GraphQL to pull data into components</h2>\n<p>There are many options for loading data into React components. One of the most\npopular and powerful of these is a technology called\n<a href=\"http://graphql.org/\">GraphQL</a>.</p>\n<p>GraphQL was invented at Facebook to help product engineers <em>pull</em> needed data into\ncomponents.</p>\n<p>GraphQL is a <strong>q</strong>uery <strong>l</strong>anguage (the <em>QL</em> part of its name). If you‚Äôre\nfamiliar with SQL, it works in a very similar way. Using a special syntax, you describe\nthe data you want in your component and then that data is given\nto you.</p>\n<p>Gatsby uses GraphQL to enable components to declare the data they need.</p>\n<h2 id=\"your-first-graphql-query\"><a href=\"#your-first-graphql-query\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Your first GraphQL query</h2>\n<p>Let‚Äôs create another new site for this part of the tutorial like in the previous\nparts. You‚Äôre going to build a Markdown blog called ‚ÄúPandas Eating Lots‚Äù.\nIt‚Äôs dedicated to showing off the best pictures &#x26; videos of Pandas eating lots\nof food. Along the way you‚Äôll be dipping your toes into GraphQL and Gatsby‚Äôs\nMarkdown support.</p>\n<p>Open a new terminal window and run the following commands to create a new Gatsby site in a directory called <code class=\"language-text\">tutorial-part-four</code>. Then change to this new directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">gatsby new tutorial-part-four https://github.com/gatsbyjs/gatsby-starter-hello-world<span class=\"token comment\">#v2</span>\n<span class=\"token function\">cd</span> tutorial-part-four</code></pre>\n      </div>\n<p>Then install some other needed dependencies at the root of the project. You‚Äôll use the Typography theme\nKirkham + you‚Äôll try out a CSS-in-JS library\n<a href=\"https://emotion.sh/\">Emotion</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save gatsby-plugin-typography typography react-typography typography-theme-kirkham\ngatsby-plugin-emotion emotion react-emotion emotion-server</code></pre>\n      </div>\n<p>Let‚Äôs set up a site similar to what you ended with in Part Three. This site will have a layout\ncomponent and two page components:</p>\n<p><code class=\"language-text\">src/components/layout.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\">\n      <pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> css <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-emotion\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/typography\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n    <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n      margin: 0 auto;\n      max-width: 700px;\n      padding: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n      padding-top: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n    `</span></span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`/`</span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h3</span>\n        <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n          margin-bottom: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n          display: inline-block;\n          font-style: normal;\n        `</span></span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span>\n        Pandas Eating Lots\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h3</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span>\n      <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`/about/`</span></span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n        float: right;\n      `</span></span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token punctuation\">></span></span>\n      About\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p><code class=\"language-text\">src/pages/index.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\">\n      <pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Amazing Pandas Eating Things<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span>\n        <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>https://2.bp.blogspot.com/-BMP2l6Hwvp4/TiAxeGx4CTI/AAAAAAAAD_M/XlC_mY3SoEw/s1600/panda-group-eating-bamboo.jpg<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Group of pandas eating bamboo<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p><code class=\"language-text\">src/pages/about.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\">\n      <pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About Pandas Eating Lots<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n      We're the only site running on your computer dedicated to showing the best\n      photos and videos <span class=\"token keyword\">of</span> pandas eating lots <span class=\"token keyword\">of</span> food<span class=\"token punctuation\">.</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p><code class=\"language-text\">src/utils/typography.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> Typography <span class=\"token keyword\">from</span> <span class=\"token string\">\"typography\"</span>\n<span class=\"token keyword\">import</span> kirkhamTheme <span class=\"token keyword\">from</span> <span class=\"token string\">\"typography-theme-kirkham\"</span>\n\n<span class=\"token keyword\">const</span> typography <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Typography</span><span class=\"token punctuation\">(</span>kirkhamTheme<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> typography\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> rhythm <span class=\"token operator\">=</span> typography<span class=\"token punctuation\">.</span>rhythm</code></pre>\n      </div>\n<p><code class=\"language-text\">gatsby-config.js</code> (must be in the root of your project, not under src)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-emotion`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-typography`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        pathToConfigModule<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`src/utils/typography`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Add the above files and then run <code class=\"language-text\">gatsby develop</code> like normal and you should see\nthe following:</p>\n<p><img src=\"start.png\" alt=\"start\"></p>\n<p>You have another small site with a layout and two pages.</p>\n<p>Now let‚Äôs start querying üòã</p>\n<h2 id=\"querying-for-the-site-title\"><a href=\"#querying-for-the-site-title\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Querying for the site title</h2>\n<p>When building sites, it‚Äôs common to want to reuse common bits of data across the\nsite. Like the <em>site title</em> for example. Look at the <code class=\"language-text\">/about/</code> page. You‚Äôll\nnotice that you have the site title in both the layout component (the site\nheader) as well as in the title of the About page. But what if you want to change\nthe site title at some point in the future? You‚Äôd have to search across all your\ncomponents for spots using the site title and edit each instance of the title. This process is both cumbersome and\nerror-prone, especially as sites get larger and more complex. It‚Äôs much better to\nstore the title in one place and then <em>pull</em> that title into components whenever\nyou need it.</p>\n<p>To solve this, you can add site ‚Äúmetadata‚Äù ‚Äî like page title or description ‚Äî to the <code class=\"language-text\">gatsby-config.js</code> file. Let‚Äôs add your site title to\n<code class=\"language-text\">gatsby-config.js</code> file and then query it from your layout and about page!</p>\n<p>Edit your <code class=\"language-text\">gatsby-config.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  siteMetadata<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    title<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`Blah Blah Fake Title`</span></span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span>  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-emotion`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-typography`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        pathToConfigModule<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`src/utils/typography`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Restart the development server.</p>\n<p>Then edit the two components:</p>\n<p><code class=\"language-text\">src/pages/about.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\">\n      <pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n</span><span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/layout\"</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n</span>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>About <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n</span>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\n      We're the only site running on your computer dedicated to showing the best\n      photos and videos <span class=\"token keyword\">of</span> pandas eating lots <span class=\"token keyword\">of</span> food<span class=\"token punctuation\">.</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token string\">`\n</span><span class=\"gatsby-highlight-code-line\">  query {\n</span><span class=\"gatsby-highlight-code-line\">    site {\n</span><span class=\"gatsby-highlight-code-line\">      siteMetadata {\n</span><span class=\"gatsby-highlight-code-line\">        title\n</span><span class=\"gatsby-highlight-code-line\">      }\n</span><span class=\"gatsby-highlight-code-line\">    }\n</span><span class=\"gatsby-highlight-code-line\">  }\n</span><span class=\"gatsby-highlight-code-line\">`</span></span>\n</span></code></pre>\n      </div>\n<p><code class=\"language-text\">src/components/layout.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\">\n      <pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> css <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-emotion\"</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StaticQuery<span class=\"token punctuation\">,</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span>\n</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../utils/typography\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token operator\">&lt;</span>StaticQuery\n</span><span class=\"gatsby-highlight-code-line\">    query<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>graphql<span class=\"token template-string\"><span class=\"token string\">`\n</span><span class=\"gatsby-highlight-code-line\">      query {\n</span><span class=\"gatsby-highlight-code-line\">        site {\n</span><span class=\"gatsby-highlight-code-line\">          siteMetadata {\n</span><span class=\"gatsby-highlight-code-line\">            title\n</span><span class=\"gatsby-highlight-code-line\">          }\n</span><span class=\"gatsby-highlight-code-line\">        }\n</span><span class=\"gatsby-highlight-code-line\">      }\n</span><span class=\"gatsby-highlight-code-line\">    `</span></span><span class=\"token punctuation\">}</span>\n</span><span class=\"gatsby-highlight-code-line\">    render<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n</span>      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n        <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n          margin: 0 auto;\n          max-width: 700px;\n          padding: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n          padding-top: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n        `</span></span><span class=\"token punctuation\">}</span></span>\n      <span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span> <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`/`</span></span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h3</span>\n            <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n              margin-bottom: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">rhythm</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n              display: inline-block;\n              font-style: normal;\n            `</span></span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token punctuation\">></span></span>\n<span class=\"gatsby-highlight-code-line\">            <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span>\n</span>          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h3</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Link</span>\n          <span class=\"token attr-name\">to</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`/about/`</span></span><span class=\"token punctuation\">}</span></span>\n          <span class=\"token attr-name\">className</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>css<span class=\"token template-string\"><span class=\"token string\">`\n            float: right;\n          `</span></span><span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">></span></span>\n          About\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Link</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>It worked!! üéâ</p>\n<p><img src=\"fake-title-graphql.png\" alt=\"fake-title-graphql\"></p>\n<p>But let‚Äôs restore the real title.</p>\n<p>One of the core principles of Gatsby is <em>creators need an immediate connection to\nwhat they‚Äôre creating</em>\n(<a href=\"http://blog.ezyang.com/2012/02/transcript-of-inventing-on-principleb/\">hat tip to Bret Victor</a>).\nOr, in other words, when you make any change to code you should immediately see\nthe effect of that change. You manipulate an input of Gatsby and you see the new\noutput showing up on the screen.</p>\n<p>So almost everywhere, changes you make will immediately take effect.</p>\n<p>Try editing the title in <code class=\"language-text\">siteMetadata</code>‚Äîchange the title back to ‚ÄúPandas Eating\nLots‚Äù. The change should show up very quickly in your browser.</p>\n<h2 id=\"how-does-the-graphql-tag-work\"><a href=\"#how-does-the-graphql-tag-work\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How does the graphql tag work?</h2>\n<p>You may have noticed that you used a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_template_literals\">tag function</a> called <code class=\"language-text\">graphql</code>. Behind the scenes Gatsby handles these tags in a particular way - let‚Äôs explore what actually happens when you use Gatsby‚Äôs <code class=\"language-text\">graphql</code> tag:</p>\n<p>The short answer is this: during the Gatsby build process, GraphQL queries are pulled out of the original source for parsing.</p>\n<p>The longer answer is a little more involved: Gatsby borrows a technique from\n<a href=\"https://facebook.github.io/relay/\">Relay</a> that converts your source code into an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\">abstract syntax tree (AST)</a> during the build step. <a href=\"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/file-parser.js\"><code class=\"language-text\">file-parser.js</code></a> and <a href=\"https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby/src/internal-plugins/query-runner/query-compiler.js\"><code class=\"language-text\">query-compiler.js</code></a> pick out your <code class=\"language-text\">graphql</code>-tagged templates and effectively remove them from the original source code.</p>\n<p>This means that the <code class=\"language-text\">graphql</code> tag isn‚Äôt executed the way that you might expect. For example, you cannot use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Expression_interpolation\">expression interpolation</a> with Gatsby‚Äôs <code class=\"language-text\">graphql</code> tag.</p>\n<h2 id=\"whats-coming-next\"><a href=\"#whats-coming-next\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What‚Äôs coming next?</h2>\n<p>Next, you‚Äôll be learning about how to pull data into your Gatsby site using GraphQL with source plugins in <a href=\"/tutorial/part-five/\">part five</a> of the tutorial.</p>","excerpt":"Welcome to Part Four of the tutorial! Halfway through! Hope things are starting\nto feel pretty comfortable üòÄ Recap of first half of the‚Ä¶","timeToRead":8,"fields":{"slug":"/tutorial/part-four/","anchor":"part-four"},"frontmatter":{"title":"Querying for data in a blog"},"parent":{"__typename":"File","relativePath":"tutorial/part-four/index.md"}}},"pageContext":{"slug":"/tutorial/part-four/"}}