{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-plugin-purgecss","description":"Gatsby plugin for purgecss. Removes unused css/sass/less/stylus from files and modules.","keywords":["gatsby","gatsby-plugin","css","sass","scss","stylus","less","optimize","clean","purgecss","purify","purifycss"],"lastPublisher":{"name":"anantoghosh","avatar":"https://gravatar.com/avatar/9bb3b320aa2caa45a82d2814086bb756"},"repository":{"url":"https://github.com/anantoghosh/gatsby-plugin-purgecss"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-plugin-purgecss-npm-version\"><a href=\"#gatsby-plugin-purgecss-npm-version\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby Plugin Purgecss <a href=\"https://www.npmjs.com/package/gatsby-plugin-purgecss\"><img src=\"https://badge.fury.io/js/gatsby-plugin-purgecss.svg\" alt=\"npm version\"></a></h1>\n<p>For Gatsby 2 only</p>\n<p><a href=\"https://travis-ci.org/anantoghosh/gatsby-plugin-purgecss\"><img src=\"https://travis-ci.org/anantoghosh/gatsby-plugin-purgecss.svg?branch=master\" alt=\"Build Status\"></a>\n<a href=\"https://coveralls.io/github/anantoghosh/gatsby-plugin-purgecss?branch=master\"><img src=\"https://coveralls.io/repos/github/anantoghosh/gatsby-plugin-purgecss/badge.svg?branch=master\" alt=\"Coverage Status\"></a>\n<a href=\"https://greenkeeper.io/\"><img src=\"https://badges.greenkeeper.io/anantoghosh/gatsby-plugin-purgecss.svg\" alt=\"Greenkeeper badge\"></a> <a href=\"https://snyk.io/test/github/anantoghosh/gatsby-plugin-purgecss?targetFile=package.json\"><img src=\"https://snyk.io/test/github/anantoghosh/gatsby-plugin-purgecss/badge.svg?targetFile=package.json\" alt=\"Known Vulnerabilities\"></a></p>\n<p><a href=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss/\"><img src=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss.svg\" alt=\"dependencies\"></a>\n<a href=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss?type=dev\"><img src=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss/dev-status.svg\" alt=\"dev dependencies\"></a>\n<a href=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss?type=peer\"><img src=\"https://david-dm.org/anantoghosh/gatsby-plugin-purgecss/peer-status.svg\" alt=\"peer dependencies\"></a></p>\n<h2 id=\"what-is-this-plugin-about\"><a href=\"#what-is-this-plugin-about\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is this plugin about?</h2>\n<p>This plugin allows Gatsby to remove unused css from css/sass/less/stylus files and modules using <a href=\"https://github.com/FullHuman/purgecss\">purgecss</a>.</p>\n<h2 id=\"supported-files\"><a href=\"#supported-files\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Supported files</h2>\n<ul>\n<li>.css , .module.css</li>\n<li>.scss, .sass, .module.scss, .module.sass (via <a href=\"https://next.gatsbyjs.org/packages/gatsby-plugin-sass/\">gatsby-plugin-sass</a>)</li>\n<li>.less, .module.less (via <a href=\"https://next.gatsbyjs.org/packages/gatsby-plugin-less/\">gatsby-plugin-less</a>)</li>\n<li>styl, .module.styl (via <a href=\"https://next.gatsbyjs.org/packages/gatsby-plugin-sass/\">gatsby-plugin-stylus</a>)</li>\n</ul>\n<h2 id=\"installation\"><a href=\"#installation\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">npm i --save-dev gatsby-plugin-purgecss</code></pre>\n      </div>\n<h3 id=\"usage\"><a href=\"#usage\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h3>\n<blockquote>\n<p><strong>Add the plugin AFTER other css plugins</strong></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsy-config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-stylus`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-sass`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-less`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// Add after these plugins if used</span>\n    <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-purgecss`</span></span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<h2 id=\"important-notes\"><a href=\"#important-notes\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Important Notes</h2>\n<h3 id=\"running\"><a href=\"#running\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running</h3>\n<p>This plugin only runs when building the project (gatsby build).<br>\nTo make sure the plugin is working, set <code class=\"language-text\">rejected: true</code> option to print out the removed selectors.</p>\n<h3 id=\"selector-matching\"><a href=\"#selector-matching\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Selector matching</h3>\n<p>This plugin loads css files (or transformed output from css plugins) and searches for matching selectors in js, jsx, ts, tsx files in <code class=\"language-text\">src/</code>. It does not know which css file belongs to which source file. Therefore, for eg., if there is a class <code class=\"language-text\">.module</code> in some css file, it will not be removed if it used in <em>any</em> script file under <code class=\"language-text\">src/</code>.</p>\n<h3 id=\"whitelist-html-body\"><a href=\"#whitelist-html-body\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Whitelist [‘html’, ‘body’]</h3>\n<p>Since html and body tags do not appear in <code class=\"language-text\">src/</code> files, it is whitelisted by default to not be removed.<br>\nIf there is a need to modify the whitelist, it is recommended to keep these tags and append the required selectors using the option\n<code class=\"language-text\">whitelist: [&#39;html&#39;, &#39;body&#39;, &#39;.my-selector&#39;]</code></p>\n<h2 id=\"options\"><a href=\"#options\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Options</h2>\n<p>This plugins supports most purgecss options as is (except <code class=\"language-text\">css</code>).  </p>\n<blockquote>\n<p><a href=\"https://www.purgecss.com/configuration\">Read about purgecss options in detail</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-purgecss`</span></span><span class=\"token punctuation\">,</span>\n  options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** \n     * Print the list of removed selectors.\n     * default: false\n     **/</span> \n    rejected<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> boolean<span class=\"token punctuation\">,</span>\n\n\n    <span class=\"token comment\">/**\n     * Stops from removing these selectors.\n     * default: ['html', 'body']\n     * If you want to whitelist more selectors, make sure to include 'html', 'body' in the array.\n     **/</span>\n    whitelist<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n\n\n    <span class=\"token comment\">/**\n     * These options are available but not used by default.\n     * Read more https://www.purgecss.com/configuration\n     **/</span>\n    extractors<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>ExtractorsObj<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    whitelistPatterns<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>RegExp<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    whitelistPatternsChildren<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>RegExp<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    keyframes<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> boolean<span class=\"token punctuation\">,</span>\n    fontFace<span class=\"token operator\">?</span><span class=\"token punctuation\">:</span> boolean<span class=\"token punctuation\">,</span>\n\n\n    <span class=\"token comment\">/**\n     * Files to search for selectors.\n     **/</span>\n     <span class=\"token comment\">// default: [path.join(process.cwd(), 'src/**/!(*.d).{ts,js,jsx,tsx}')]</span>\n    content<span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>string <span class=\"token operator\">|</span> RawContent<span class=\"token operator\">></span><span class=\"token punctuation\">,</span> \n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h2 id=\"versioning\"><a href=\"#versioning\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Versioning</h2>\n<p>Gatsy-plugin-purgecss use <a href=\"http://semver.org/\">SemVer</a> for versioning.<br>\nIt will try to match official gatsby plugin’s major version.</p>\n<h2 id=\"acknowledgment\"><a href=\"#acknowledgment\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Acknowledgment</h2>\n<p>This project was made possible due to the incredible work done on the following projects:</p>\n<ul>\n<li><a href=\"https://github.com/FullHuman/purgecss\">purgecss</a></li>\n<li><a href=\"https://github.com/americanexpress/purgecss-loader\">purgecss-loader</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/\">gatsby</a></li>\n</ul>\n<h2 id=\"license\"><a href=\"#license\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>License</h2>\n<p>This project is licensed under the MIT License - see the <a href=\"LICENSE\">LICENSE</a> file\nfor details.</p>","timeToRead":3}}}},"pageContext":{"slug":"/packages/gatsby-plugin-purgecss/","id":"fb2af5c9-9c1d-52f4-bdec-8e891a512643"}}