{"data":{"markdownRemark":{"html":"<p>Gatsby has been getting a lot of recognition and\n<a href=\"https://github.com/gatsbyjs/gatsby#showcase\">adoption</a> lately, and for good\nreason. It’s so flexible and it works well with nearly everything.</p>\n<p>If you’re on a tight budget and don’t want to sacrifice developer experience or\ncutting-edge deployments, I’ve landed on a favorite set of tools (Gatsby\nincluded, of course) for developing static sites that solves multiple problems\nat once.</p>\n<p>The use case I’ll be covering is a documentation site for our company’s main\nsoftware product. The site contains a lot of content with hundreds of articles.</p>\n<p>Here’s a list of my requirements for this site:</p>\n<ul>\n<li>Speed - both in development and site performance</li>\n<li>Ease of use - both in developer experience and content upkeep</li>\n<li>Searchable content - it is a doc site after all</li>\n<li>Inexpensive Hosting - maximize value (who doesn’t want this?)</li>\n<li>Automated continuous deployment</li>\n</ul>\n<p>The following is a report on my high-level experience of using Gatsby with\nContentful, Netlify and Algolia and the problems they solve — without getting\ndown into code.</p>\n<h1 id=\"static-to-the-rescue\"><a href=\"#static-to-the-rescue\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Static to the Rescue?</h1>\n<p>I know it’s bad to make assumptions, but I’m going to assume that if you’re here\nand reading this, you at least know a little about the perks of static sites and\nthe JAMstack. If not, check out <a href=\"https://jamstack.org/\">https://jamstack.org/</a>\nfor a quick breakdown on why web development is, for lack of a better phrase,\n“going back to the basics.”</p>\n<p>Having dealt with my share of CMS headaches with Joomla in the almost-forgotten\npast, and Wordpress in the more recent years, I’ve been on a quest to simplify\nthings. I don’t want to worry about having a plugin or theme get hacked or the\nconstant nagging to install updates. I also would prefer to not deal with themes\nat all and just have flexible building blocks to shape my site’s appearance via\nmy own codebase. Static sites excel at these things.</p>\n<p>But while static sites give you lots of perks, they do create some extra hurdles\nover going the traditional route.</p>\n<div style=\"width:100%;height:0;padding-bottom:56%;position:relative;\"><iframe src=\"https://giphy.com/embed/LfjSCQ5ivKH3q\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe></div><p><a href=\"https://giphy.com/gifs/jump-rabbit-mixed-LfjSCQ5ivKH3q\">via GIPHY</a></p>\n<p>While they’re generally fast out of the box, static sites don’t make their\ncontent easily editable. After all, a static site’s content is usually just that\n— static. That means, traditionally, you would have to edit the page code to\nmake content changes or add a markdown file then fire off a site rebuild\ncommand, and finally redeploy. Even though static site generators have solved\nthis in many clever ways, I feel Gatsby solves this problem in a particularly\nelegant fashion via it’s GraphQL data layer (more on that later) and its vast\necosystem of data <a href=\"/docs/plugins/\">source plugins</a>.</p>\n<p>Before I jump into the topic of content and “data”, I want to briefly say that\nbuilding a static site template with React-based architecture and hot module\nreloading is just plain fun. Gatsby’s CLI gets you going so quickly. It really\nis a joy to use. Judging from all the\n<a href=\"http://twitter.com/gatsbyjs\">twitter comments</a> saying the same thing, I think\nthat’s a common consensus.</p>\n<p>Okay, now back to some static hurdles.</p>\n<h1 id=\"a-problem-of-content\"><a href=\"#a-problem-of-content\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Problem of Content</h1>\n<p>Our site has a lot of content (~300 articles) that needs to be maintained by\nnon-developers, my co-workers. This meant we needed an approachable interface\nfor copy and content editing. I wanted to make it as convenient as logging into\nWordpress and publishing from there, without the Wordpress. So the publishing\nexperience couldn’t rely on creating a file and committing changes to a git\nrepo.</p>\n<blockquote>\n<p>Sidebar: There is\n<a href=\"/packages/gatsby-source-wordpress/\">Gatsby-Source-Wordpress</a>\nplugin that pulls in content via a Wordpress API. However, to me, this was not\nappealing because I was trying to avoid hosting a traditional CMS entirely.</p>\n</blockquote>\n<h1 id=\"solution-contentful--gatsby\"><a href=\"#solution-contentful--gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution: Contentful + Gatsby</h1>\n<p>Contentful is a hosted headless CMS with a fantastic user experience. It’s\nsimilar to having a backend like Wordpress, but you are fully responsible for\nthe front-end layer. The beauty of Contentful is threefold.</p>\n<ul>\n<li>Intuitive and attractive UI</li>\n<li>Simple content modeling</li>\n<li><a href=\"https://www.contentful.com/pricing/\">Free tier</a></li>\n</ul>\n<p>Dealing with the back-end of Contentful is refreshing and the content modeling\nreally leads the pack when compared to other headless content management\nsystems. It doesn’t feel like something that just gets the job done, it’s\nactually really nice to use. They also just pushed some\n<a href=\"https://www.contentful.com/blog/2017/11/28/work-smarter-with-our-new-search-features/\">great new changes</a>\nthat made it even easier to search and filter our articles on the back-end.</p>\n<p>Contentful also happens to offer a\n<a href=\"https://www.contentful.com/pricing/\">generous free tier</a> with useful features\nfor a small company or a few projects. At the time of this writing, you get a\nfew spaces (think projects), ten thousand content records, and five users that\ncan be admins, editors or authors of content. All they ask in return is that you\ndisplay a Contentful logo on your site footer or attribute them in your code\nrepo.</p>\n<p>With that salesy pitch out of the way, how does Contentful work within our\nGatsby site?</p>\n<p>Our documentation exists in 40 different parent topics and numerous articles in\neach topic. The largest challenge with this was creating topic-based navigation.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-18b6a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 83.07291666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAADHUlEQVQ4y3VTS0hUYRS+QSBEUUQGQRshAimSaCW0qGjjphBauC4oQiIoH6VkimUGLSREkmpRRBEZVlNGRBpqZj4GRzG1FuM4j+4473vnPufe+/Wff+YODdKBw/kf53znnO/8vyAIAvYdrMLW8t0QyrZD2LkXwp792FRRhc2V1Sg7fBJbqk9h2/E67Kg5i121l1Be14SK87dx4GovKpsfoqbnDTqHZnGs7wuEi/X1aOvsQlNbO+obW3C5tQNXOrrR0H0fjfceoLnnEa71PkVL/0u0Pn6NG088aHv+CZ2vRnBncBRd7ybQN+KDZz6A3vFfEEBi5bBB1DDTEGAmAGMdyPoB/Q9TEVACzK6XuFsFDAGOjZVQFMNLQUwEEliOZmDnTKhSArqcgpbNwFAk2GoKtpFlqsDW2d7UYDsOLNvhNmdZXHmFk2tJ3Pz8E40f5vFiLpgvUDegqDpkOQtZ1ZDOakhKtNYhKaQaFEWBpmlQVZVbAuaApmEgk0pCkSU4lCmXQyQSQTweg84cDbbXzLzqOYvZvNq2DYeBkHXXHJAyZCSJl+xwPiyEw2GIoghd11n2fAW0pgSk/IzFUSz5lwBmMhkkUyneqlMgmdpJJBKIxWJIp1OQWUJZlpFmvuQvsT3ZeDzO7tNIsXgCLVZIDqZp8iwkFEyAFKTrrEXN5IHRaJQnIaBsNstjXA6LFVI1yWSSt8SrLPBCIsZEjI0OYGpyCLPTU/D55jE3N4eZmRl4vV6293FAN67YMmWkbEVAx+Lr5cBXDA+egDRwAWLADy8DW1hYQDAY5DxTZzTEEkAqnUD/vXAKFSZ/z2LpWQPEj+3s3GbtxjkVRAkpDcSlqQjIp8f03wvbyle4+M2Du9cP4Ye3H6auYXU1gEBgDX7/KkKhEKNL3QhImYhHV+jC/Uqe728hHBVw7tZp/E9cvouAxIPLhXuZcwHHGOARAWdaa0uCC6lLBljysOlJEI/uYNwXGU2IGBp/j5nFad4e+YTZL1pZjSASjSO2vs55LAF0wahtlw96VzQsjf1jJ+fA0AzuQ0r+iRQ95jRfu3+aYv8CdDXO48aWj7AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Roll Call Docs\"\n        title=\"\"\n        src=\"/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-c4266.png\"\n        srcset=\"/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-4fd5b.png 197w,\n/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-4fc86.png 393w,\n/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-c4266.png 786w,\n/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-22348.png 1179w,\n/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-f35d4.png 1572w,\n/static/rollcall-docs-d86082614dcc927e7e1de62b4b385eb3-18b6a.png 2304w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Gatsby’s data handling makes these problems easy to manage by simplifying how\nyou get data to your site from external sources. It’s not <em>entirely</em> unique from\nother static site generators in that regard — other generators utilize plugins\nfor grabbing content as well, but how you deal with actually pulling it into\nyour React components/pages with GraphQL is beautiful.</p>\n<p>After you install the <code class=\"language-text\">gatsby-source-contentful</code>\n<a href=\"/packages/gatsby-source-contentful/\">plugin</a> with NPM\nand add your Contentful API credentials to the gatsby-config file, the fun\nbegins.</p>\n<p>Every time you run Gatsby with the <code class=\"language-text\">develop</code> command or do a new build with the\n<code class=\"language-text\">build</code> command, the plugin fetches any new content from the Contentful API. All\nthis data is then available and ready to query locally in your development\nenvironment. This means you can start pulling in Contentful assets and content\n(assets = images/media, content = pages/articles/text/markdown, etc.) using\nGraphQL queries right inside the template files.</p>\n<blockquote>\n<p>Sidenote: I had created a blog for my wife with Gatsby prior to this doc site,\nso I had a little experience with the Gatsby APIs. But I still consider myself\na complete newbie when it comes to GraphQL. Lucky for me, Gatsby’s tutorials\nand community are awesome at answering questions or handling general usage\nissues.</p>\n</blockquote>\n<p>In a single GraphQL query I was able to pull in all the topics and related\narticle titles set up in my Contentful Content Model for navigation. By\nleveraging React and some GraphQL, I was able to create a dynamically generated\nsidebar menu based off the content that got pulled in from Contentful. I have to\nsay, it feels so freeing being about to create static content with dynamic data\nlike this.</p>\n<p>The articles themselves are written in markdown in the Contentful editor. They\nget converted to HTML via a transformer plugin within Gatsby. The markdown\nediting in Contentful is quite practical with standard WYSIWYG-like editor\nfeatures. I haven’t heard any complaints from my co-workers.</p>\n<h1 id=\"searching-for-a-search-solution\"><a href=\"#searching-for-a-search-solution\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Searching for a Search Solution</h1>\n<p>Another “problem” with static sites is the lack of out-of-the-box site search.\nMost search implementations occur between the server and the database. As a doc\nsite, users typically expect solid search functionality. There are a few\nfrontend only JavaScript search libraries (like <a href=\"https://lunrjs.com/\">lunr.js</a>)\nthat take a search query and parse a pre-built JSON index of your content.</p>\n<p>I could have created this index by tying into the <code class=\"language-text\">onPostBuild</code> Gatsby API. This\nevent fires after all the pages are generated, so all page nodes are available\nto parse to create a search index.</p>\n<p>I quickly decided that this approach wouldn’t work well for our case because of\nthe vast number of articles. The index file alone would have been rather large\nand present a hefty chunk of the site download which I felt was antithetical to\nthe performance benefits of using Gatsby (or even any static site). I needed\nsomething that would operate client-side, but that had the search brains still\nresiding in the cloud somewhere. Though an option, I didn’t have time to build\nmy own solution.</p>\n<h1 id=\"solution-algolia--gatsby\"><a href=\"#solution-algolia--gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution: Algolia + Gatsby</h1>\n<p>This solution was a bit of a trial and error process for me. I had seen many doc\nsites use Algolia online in my dev travels. I knew it offered a usable free tier\n(again with logo attribution) with what seemed like enough free API calls to\nsuit our user base. What I didn’t know was how I would get all my content\nindexed properly. Algolia does have helpful documentation on indexing.</p>\n<p>It was more of a challenge of how to break down the content in the articles into\nthe chunks that the index requires. The\n<a href=\"https://www.algolia.com/doc/guides/indexing/structuring-your-data/?language=php#indexing-long-documents\">Algolia Docs</a>\nstate that your index records shouldn’t be more than 10kb each which roughly\nequates to a paragraph or two each. This suddenly became a challenge in how to\nparse my article content by section. There wasn’t a good example out there of\nhow to accomplish this.</p>\n<p>Eventually I settled on an HTML to JSON library that turned the page hierarchy\ninto a parseable JSON object. I set up a script in the <code class=\"language-text\">onPostBuild</code> Gatsby\nevent API that took the built HTML from each article. The library did the magic\nof converting the HTML to JSON, then I iterated through the JSON. While keeping\ntrack of the last linked heading (h tag), I set the index record’s page link\naccordingly for each article section. The index was then uploaded to Algolia via\ntheir node.js client.</p>\n<p>It wasn’t pretty, but it worked.</p>\n<p>I ended up coupling this indexing method with\n<a href=\"https://community.algolia.com/react-instantsearch/\">React InstantSearch</a>. This\nis Algolia’s official React component library for utilizing with their service.\nThe final product was a search input with highlighted suggested results that\nallowed the user to click one of those results and be taken directly to a parent\nheading on a particular article.</p>\n<p>Not bad.</p>\n<p>Though after I wired all this up, it turned out that I was having some issues\nwith my implementation that left me seeking help from support. I was receiving\nemails about quota usage, and I was sure I wasn’t even coming close to actual\nusage limits.</p>\n<p>This was ironically about the same time I discovered\n<a href=\"https://community.algolia.com/docsearch/\">DocSearch</a> by Algolia. So as any good\ndeveloper would do, I scrapped all my hard work and just signed up for\nDocSearch. Long story short is that they crawl your site every 24 hours,\nupdating the index for you. You include a script tag that ties their API to your\nsearch input. Style it with some CSS. Bam. Done.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-175f3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 121.74757281553397%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAADpUlEQVQ4y51VS6sURxTuXxM0G39A1iJxkT+QRQgILoJushAuIZgQIWBEFxHuQq8uss8qEMEoJENMQqJB78ydV8/L6Znu6e7p97t7vpxTPdVO9F4XFnxUVXfVOd/5zjndynsff45Tn1zBqU/3cPrClzh98WucufQtzly+jvcv38C1H3/FwaOnuP3zn9h/+A/2f3mKg1YH937v4v6THu7/McDdJwP88PcY1x52oHzw2VV8eOU7nN+7iXN7t3Dui+9x/uo+PvrmDs5+dQe/dadY2i6eDyZoj2Y4mmrQvRi6/wpRVsBPcjzo6VAOfnqM+cpGd7rAYG7U0AwMFybUpYWRbkM11piYHiaWL6CuXIERPVMJZpBAcyM8ONKgxEmK0PfhuS4Cz4Nj22L/LqMoSijVpl4kaYokqZHSOowzYu5jZTkwTJvmNfJyg6yoGuRFva+fb1CWZLBMajZZlgljzLjIc9ik018dDc9e9PDviy6et/twSK/1FmLtRXApXJ69MN0yTLxj6YdxivnCgKZbsNyQLqZY2T7MdSBgOTzT3gkx0V2xFwZLipnZ5cSqqipsNqQBmH5FMuRIs5zeleBz9ZuTUXDIrJeuG5jPNWGUR230uLGpnRKqLeSa7wgN4zgWR1NiycY5OWyY9ZxrGpZLHYvFArPZS4okf2uWhcEoimqDadZkuCgKRFGMducI6miM4VBFfzCE63rieUQk4jgRc0j3GVIy5aTw2JtpWWCHvOZzrDVHlCSJcOz4icg2Iya96VDNkD1Jz0EQNmtmzF7fruurwU6UVqsljHBibHsN07Rgr9ewLBtpHL1xqdpJiARHwKPb7ULRSHgZYkY6sPCsYUoNP5g7GEx1jMekozoSTuRZmVmGjMKmthVlIw+xoULOVKR+UokOCMNQQDJpimhrUMohsuw4zv/CiUlwLmrWtt/vUdksYBgGVGLImZ5MZxRaT0j0+uBMK5wx6Y0T4QfB9iORQB1PMRzP8JKKfkp1ONcW0KgmuQmM1Qq+H4hSYlJsjCNTdrNYM6szXpYFHC/A0nTgev4b4fK9WpqiqcH6a7NzULaPfMkH69Yqm37PREdlJ3eKzBbPfDAMuerrTjk8bIvssm6H7Y7oGJ7bnU5T8IIhoWEoF2xAfA+ppWQ/exQq68S6siPec5sZtgeNfgEBPWPDSRwSqUqg0fA4+sVruh33yU/zCnZYksNYRKiwJlJYmSk57z7ffc/OGMx4uQ7R6vtUYjM4ro//AErLHxja1e1GAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Algolia DocSearch FTW\"\n        title=\"\"\n        src=\"/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-c4266.png\"\n        srcset=\"/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-4fd5b.png 197w,\n/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-4fc86.png 393w,\n/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-c4266.png 786w,\n/static/algolia-search-346917a0d4c08e4870fe531c3cc35931-175f3.png 1030w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>And it worked better out of the box than my implementation did. I felt kinda\nstupid after going through all the effort because I realized that the\nReactjs.org repo had the answer right in their\n<a href=\"https://github.com/reactjs/reactjs.org/search?utf8=%E2%9C%93&#x26;q=docsearch&#x26;type=\">source</a>.\nThey use DocSearch instead of rolling their own indexing and search interface.\nOh well.</p>\n<h1 id=\"hosting--deployment\"><a href=\"#hosting--deployment\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hosting &#x26; Deployment</h1>\n<p>A great thing about static sites is that you can host them just about anywhere.\nYou get a folder of pre-built files that you can throw up on any web server and\nyou’re done. You can even dump it in an Amazon S3 bucket and save a ton of money\nwith very little work.</p>\n<p>So while hosting is easy, static sites adds a manual step for deploying changes\nmade to a site’s code or content — unlike WordPress or other traditional CMSes\nwhere a content change goes live immediately.</p>\n<p>If you don’t configure some form of deployment automation, you have to manually\ninitiate a build and upload it yourself. I wanted a continuous development\nworkflow — push a commit to my code repo and have Gatsby run its build in the\ncloud and automatically deploy the new version of the site to a hosting\nprovider.</p>\n<p>Can this be done with AWS? Sure, with a bit of configuration and more grunt work\nin setup. Can it be done elsewhere with little to no configuration? How about\nfor free?</p>\n<p>Luckily I already knew the answers to these questions because I had already\ndiscovered Netlify for some other projects.</p>\n<h1 id=\"solution-netlify--gatsby\"><a href=\"#solution-netlify--gatsby\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution: Netlify + Gatsby</h1>\n<p>Plugging any static site into the Netlify workflow is a no brainer, but after I\nfound Gatsby, I knew there was no other option for me. These two pair so well\ntogether!</p>\n<p>Netlify recently changed <a href=\"https://www.netlify.com/pricing/\">their pricing</a> to\nimprove what was already an awesome hosting per dollar value. I can’t get\nthrough this section without a bullet list of why Netlify is so fantastic.</p>\n<ul>\n<li>Free to use for personal/commercial project (seriously great free tier)</li>\n<li>Push button HTTPS via Let’s Encrypt built in</li>\n<li>Fast Global CDN</li>\n<li>Support for custom domains</li>\n<li>Atomic deploys</li>\n<li>A crazy-cool, integrated build engine</li>\n<li><a href=\"https://www.netlify.com/features/\">And a lot more…</a></li>\n<li>Did I mention you get all this for FREE?</li>\n</ul>\n<div style=\"width:100%;height:0;padding-bottom:55%;position:relative;\"><iframe src=\"https://giphy.com/embed/vMnuZGHJfFSTe\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe></div><p><a href=\"https://giphy.com/gifs/vMnuZGHJfFSTe\">via GIPHY</a></p>\n<p>And back to using it with Gatsby.</p>\n<p>After you link your Netlify site to a specific code repository, Netlify’s build\nbots take care of the rest. From that point on, when you push a change to your\nrepo, the build bot says, “Hey look! a change! I need to run the <code class=\"language-text\">gatsby build</code>\ncommand…”, then it follows the package.json (or yarn file) in the repo and\ndownloads the necessary dependencies if they aren’t already cached, and then\nbuilds out the static site.</p>\n<p>And during this build process, Gatsby’s clever APIs are taking care of grabbing\ncontent from Contentful and generating the static pages for the articles.\nAwesome. When this process is done, you can even be notified via Slack, or\nEmail.</p>\n<p>Netlify is the easy-button for your deploy/hosting problem.</p>\n<p>Coupled with your Gatsby site, the site performance is outstanding. Both\nperceived performance and measurable performance are there. You get\ntime-to-first-byte measurements in the single digits. The code-splitting and\npre-fetching perks of Gatsby also help to make your site score well in web\nperformance tests. All out of the box.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-cc244.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 786px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 20.843672456575682%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9ElEQVQY0x2NuW6DQBRF+f+vMA0SQnIcjINEXDidI0JBA8aA5cJCbGHfwnbzmGnmLk/ncq57h6qqMAwDnudB0zTouo7n84mvywWf5zN834dlWRAEAcrphMfjge/rFZIk4XA4QBRF9m83nOu6UBSFATcty+8E/CG4S0MfDGDbFhzHAc/zkI9HNnC72WyY3+2w37/BNE26uYMryxJJkqAoCjRNgzAMkaYpuq5Dlv0y37Yt+RZxHLOupW4YBozjH6IoQhAEpEeWcX3fI6awqipM04SIAHmeY11X1HWNJE4wzwv5BQ35um5Yt71lmWk0w+v1Ir2w7B8NRh4G4C2KowAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Webpage Test Results\"\n        title=\"\"\n        src=\"/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-c4266.png\"\n        srcset=\"/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-4fd5b.png 197w,\n/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-4fc86.png 393w,\n/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-c4266.png 786w,\n/static/webpage-test-75096f21e2299b934cd1dc130dfc36c0-cc244.png 806w\"\n        sizes=\"(max-width: 786px) 100vw, 786px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now, to come full circle I needed something that would trigger a new site build\nwhen someone edited or added an article from Contentful. Again, Contentful and\nNetlify to the rescue.</p>\n<p>Contentful has webhook functionality built-in and lets you fire off a request\nwhen an action is taken on a piece of content or when content is created.\nPerfect. With this hook, Contentful talks to Netlify when there’s a change or\naddition, and Netlify rebuilds the site and deploys it.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/netlify-build-webhook-a71219c5783b05d5e996b7738baece23-6cfcf.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 702px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 20.7977207977208%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAkUlEQVQY042PSQ7CMAxFc/+LsekBgLYS25J5nqR8kqCypZaevi1b3zZpreFfjJmrEC4kHtuO+7p1Vjz3F5ylqGpB4jdkuQxLXA1SSoFUGkobaGOnhuAQHUXyFNEzpJxRap06SQn5zM+6+8wLQ4g4KOtGGsZaHG/aYeDSQBnfl1mML0aPCQHGvwipfko5n0cNww9t7DYknU6PjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #ffffff;\"\n        alt=\"Contentful Webhook Build\"\n        title=\"\"\n        src=\"/static/netlify-build-webhook-a71219c5783b05d5e996b7738baece23-6cfcf.png\"\n        srcset=\"/static/netlify-build-webhook-a71219c5783b05d5e996b7738baece23-cda1d.png 197w,\n/static/netlify-build-webhook-a71219c5783b05d5e996b7738baece23-e31af.png 393w,\n/static/netlify-build-webhook-a71219c5783b05d5e996b7738baece23-6cfcf.png 702w\"\n        sizes=\"(max-width: 702px) 100vw, 702px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>It’s a match made in JAMstack heaven.</p>\n<h1 id=\"is-it-magic\"><a href=\"#is-it-magic\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Is it Magic?</h1>\n<p>Gatsby makes building the site fun and painless. It gets out of the way and lets\nyou be creative with your craft — yet also adds some insane perks, like\nresponsive image handling and lazy loading, with very little effort on your\npart. Contentful lets you focus on your content the same way Gatsby lets you\nfocus on developing, and Netlify really “just works.” It lets you hit a few\nbuttons and leaves you with a “Is it really this easy?” kind of feeling.</p>\n<p>Now, hopefully, our customers will feel the same with our site.</p>\n<div style=\"width:100%;height:0;padding-bottom:92%;position:relative;\"><iframe src=\"https://giphy.com/embed/12NUbkX6p4xOO4\" width=\"100%\" height=\"100%\" style=\"position:absolute\" frameBorder=\"0\" class=\"giphy-embed\" allowFullScreen></iframe></div><p><a href=\"https://giphy.com/gifs/shia-labeouf-12NUbkX6p4xOO4\">via GIPHY</a></p>","excerpt":"Gatsby has been getting a lot of recognition and\n adoption  lately, and for good\nreason. It’s so flexible and it works well with nearly…","timeToRead":12,"fields":{"slug":"/blog/2017-12-06-gatsby-plus-contentful-plus-netlify/"},"frontmatter":{"title":"Gatsby + Contentful + Netlify (and Algolia)","excerpt":"Gatsby has been getting a lot of recognition and adoption lately, and for good reason. It’s so flexible and it works well with nearly everything.","date":"December 6th 2017","rawDate":"2017-12-06","canonicalLink":null,"publishedAt":null,"tags":["contentful","netlify","algolia","getting-started","hosting","ci","performance"],"image":{"childImageSharp":{"resize":{"src":"/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-57c0c.jpg"},"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdagSFx//8QAFxABAQEBAAAAAAAAAAAAAAAAARECAP/aAAgBAQABBQKIx7GWf//EABYRAAMAAAAAAAAAAAAAAAAAAAABMf/aAAgBAwEBPwFwUP/EABYRAQEBAAAAAAAAAAAAAAAAAAABIf/aAAgBAgEBPwFbr//EABoQAAEFAQAAAAAAAAAAAAAAAAABAiEiMUH/2gAIAQEABj8CfYSeGn//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMVFh/9oACAEBAAE/IU4U/GUbWuCzns//2gAMAwEAAgADAAAAEAwP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EAMJi//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QujqP/8QAGxABAAICAwAAAAAAAAAAAAAAAQARUYExQWH/2gAIAQEAAT8QSY2kso7zqUQC9jiEsbbB7P/Z","aspectRatio":4,"src":"/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-dade8.jpg","srcSet":"/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-a1caf.jpg 197w,\n/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-a92bb.jpg 393w,\n/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-dade8.jpg 786w,\n/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-73a49.jpg 1179w,\n/static/gatsby-contentful-netlify-algolia-ec04d3ba0479215f488ae1c97e001a2c-905d8.jpg 1200w","sizes":"(max-width: 786px) 100vw, 786px"}}},"imageAuthor":null,"imageAuthorLink":null,"imageTitle":null,"showImageInArticle":null,"author":{"id":"Josh Weaver","bio":"Developer at By the Book, Inc. Enjoys technology, writing and playing music. Can't turn down a decent board game.","twitter":"@3cordguy","avatar":{"childImageSharp":{"fixed":{"tracedSVG":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30' version='1'%3e%3crect width='100%25' height='100%25' fill='%23f6f2f8'/%3e%3cpath d='M0 12v12l5-1c5 0 5 0 4 2l1 2c2-2 1-6-1-7-3-3-3-13 1-16 3-3 4-3 3 0 0 2 0 2 2 2l3-1c1-1 5 9 4 10v6l-2 7c0 2 0 2 2 2l3-1 3-4c3-2 3-3 3-14V0H0v12m0 1c0 6 1 9 1 5a122 122 0 0 0-1-5' fill='%23e0d6eb' fill-rule='evenodd'/%3e%3c/svg%3e","width":63,"height":63,"src":"/static/josh-weaver-bbbdbeaef964dd4dd1076ba80549b56f-eb2ad.jpg","srcSet":"/static/josh-weaver-bbbdbeaef964dd4dd1076ba80549b56f-eb2ad.jpg 1x,\n/static/josh-weaver-bbbdbeaef964dd4dd1076ba80549b56f-2d344.jpg 1.5x,\n/static/josh-weaver-bbbdbeaef964dd4dd1076ba80549b56f-6dc12.jpg 2x,\n/static/josh-weaver-bbbdbeaef964dd4dd1076ba80549b56f-c804e.jpg 3x"}}},"fields":{"slug":"/contributors/josh-weaver/"}}}}},"pageContext":{"slug":"/blog/2017-12-06-gatsby-plus-contentful-plus-netlify/","prev":{"fields":{"slug":"/blog/2017-11-09-why-i-created-my-blog-with-gatsby-and-contentful/","package":null,"starterShowcase":null},"frontmatter":{"title":"Why I created my blog with Gatsby and Contentful","draft":null,"canonicalLink":null,"publishedAt":null,"tags":["contentful","netlify","getting-started","hosting","static"]}},"next":{"fields":{"slug":"/blog/2017-12-07-taking-gatsby-for-a-spin/","package":null,"starterShowcase":null},"frontmatter":{"title":"Taking Gatsby for a spin","draft":null,"canonicalLink":null,"publishedAt":null,"tags":["performance","pwa","react","graphql","netlify"]}}}}