{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-source-pocket","description":"Fetch data from Pocket API","keywords":["gatsby","gatsbyjs","gatsby-plugin","pocket"],"lastPublisher":{"name":"conradj","avatar":"https://gravatar.com/avatar/10155377c8b054e78239f4047c7e06ee"},"repository":{"url":"https://github.com/conradj/gatsby-source-pocket"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-source-pocket\"><a href=\"#gatsby-source-pocket\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-source-pocket</h1>\n<p>Fetch data from Pocket API.</p>\n<p>An example site for this plugin is available:</p>\n<ul>\n<li><strong><a href=\"https://conradj.co.uk/weeklyreads/\">Demo</a></strong></li>\n<li><strong><a href=\"https://github.com/conradj/pocket-public-archive\">Example site source code</a></strong></li>\n</ul>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to Use</h2>\n<ol>\n<li>\n<p><code class=\"language-text\">npm install --save gatsby-source-pocket</code></p>\n</li>\n<li>\n<p>Go to <a href=\"https://getpocket.com/developer/\">https://getpocket.com/developer/</a> and create a new app to get your consumer key.</p>\n</li>\n<li>\n<p>Run <code class=\"language-text\">node node_modules/node-getpocket/authorise --consumerkey &#39;YOUR-CONSUMER-KEY&#39;</code> and point your browser to <a href=\"http://127.0.0.1:8080to\">http://127.0.0.1:8080to</a> get your <code class=\"language-text\">POCKET_ACCESS_TOKEN</code> string.</p>\n<p>For more info on this process see <a href=\"https://github.com/vicchi/node-getpocket\">https://github.com/vicchi/node-getpocket</a>, which this plugin uses to talk to the Pocket API.</p>\n</li>\n<li>\n<p>In your gatsby-config.js</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-pocket`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        consumerKey<span class=\"token punctuation\">:</span> <span class=\"token constant\">INSERT_HERE_YOUR_POCKET_CONSUMER_KEY</span><span class=\"token punctuation\">,</span>\n        accessToken<span class=\"token punctuation\">:</span> <span class=\"token constant\">INSERT_HERE_YOUR_POCKET_ACCESS_TOKEN</span><span class=\"token punctuation\">,</span>\n        weeksOfHistory<span class=\"token punctuation\">:</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span>\n        apiMaxRecordsToReturn<span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">,</span>\n        getCurrentWeekOnly<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`n`</span></span><span class=\"token punctuation\">,</span>\n        stateFilterString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"archive\"</span><span class=\"token punctuation\">,</span>\n        tagFilter<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        tagFilterString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"_untagged_\"</span><span class=\"token punctuation\">,</span>\n        favouriteFilter<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        favouriteFilterValue<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n        searchFilter<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        searchFilterString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"These 21 things\"</span><span class=\"token punctuation\">,</span>\n        domainFilter<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n        domainFilterString<span class=\"token punctuation\">:</span> <span class=\"token string\">\"buzzfeed.com\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<h2 id=\"plugin-options\"><a href=\"#plugin-options\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin Options</h2>\n<ul>\n<li><strong>weeksOfHistory</strong>: Number of weeks worth of articles to fetch</li>\n<li><strong>apiMaxRecordsToReturn</strong>: Limit the number of records to return, to stop you hitting your <a href=\"https://getpocket.com/developer/docs/rate-limits\">api limit</a>.</li>\n<li>\n<p><strong>getCurrentWeekOnly</strong>:</p>\n<ul>\n<li><code class=\"language-text\">n</code> will fetch data based on the settings above.</li>\n<li><code class=\"language-text\">y</code> returns the current week and the last week (itâ€™ll make sense when you try it).</li>\n</ul>\n</li>\n<li>\n<p><strong>stateFilterString</strong>:</p>\n<ul>\n<li><code class=\"language-text\">unread</code> = only return unread items.</li>\n<li><code class=\"language-text\">archive</code> = only return archived items.</li>\n<li><code class=\"language-text\">all</code> = return both unread and archived items.</li>\n</ul>\n</li>\n<li>\n<p><strong>tagFilter</strong>:</p>\n<ul>\n<li><code class=\"language-text\">true</code> will use the <code class=\"language-text\">tagFilterString</code> value to get articles with that tag.</li>\n<li><code class=\"language-text\">false</code> will ignore the <code class=\"language-text\">tagFilterString</code> value</li>\n</ul>\n</li>\n<li><strong>tagFilterString</strong>: If <code class=\"language-text\">tagFilter</code> is true then get articles tagged with this value. <code class=\"language-text\">&#39;\\_untagged\\_&#39;</code> will only return articles with no tags.</li>\n<li>\n<p><strong>favouriteFilter</strong> (note UK English spelling!):</p>\n<ul>\n<li><code class=\"language-text\">true</code> will use the <code class=\"language-text\">favouriteFilterValue</code> to get articles that have/have not been favourited in Pocket</li>\n<li><code class=\"language-text\">false</code> will ignore the <code class=\"language-text\">favouriteFilterValue</code></li>\n</ul>\n</li>\n<li>\n<p><strong>favouriteFilterValue</strong>:</p>\n<ul>\n<li><code class=\"language-text\">0</code> = only return un-favorited items</li>\n<li><code class=\"language-text\">1</code> = only return favorited items</li>\n</ul>\n</li>\n<li>\n<p><strong>searchFilter</strong>:</p>\n<ul>\n<li><code class=\"language-text\">true</code> will use the <code class=\"language-text\">searchFilterString</code> value to get articles with that value in the URL or title.</li>\n<li><code class=\"language-text\">false</code> will ignore the <code class=\"language-text\">searchFilterString</code> value</li>\n</ul>\n</li>\n<li><strong>searchFilterString</strong>: If <code class=\"language-text\">searchFilter</code> is true then get articles with this value in the URL or title.</li>\n<li>\n<p><strong>domainFilter</strong>:</p>\n<ul>\n<li><code class=\"language-text\">true</code> will use the <code class=\"language-text\">domainFilterString</code> value to get articles for that domain.</li>\n<li><code class=\"language-text\">false</code> will ignore the <code class=\"language-text\">domainFilterString</code> value</li>\n</ul>\n</li>\n<li><strong>domainFilterString</strong>: If <code class=\"language-text\">domainFilter</code> is true then get articles from this domain.</li>\n</ul>\n<h2 id=\"how-to-query-your-pocket-articles-data-using-graphql\"><a href=\"#how-to-query-your-pocket-articles-data-using-graphql\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to query your Pocket articles data using GraphQL</h2>\n<p>Below is a sample query for fetching all Article nodes.</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\">\n      <pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> PageQuery <span class=\"token punctuation\">{</span>\n  allPocketArticle<span class=\"token punctuation\">(</span><span class=\"token attr-name\">sort</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">fields</span><span class=\"token punctuation\">:</span> readWeek <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        id\n        url\n        title\n        favourite\n        excerpt\n        is_article\n        is_index\n        has_video\n        has_image\n        word_count\n        time_read\n        readWeek\n        articleDomain\n        domainFavicon\n        image <span class=\"token punctuation\">{</span>\n          item_id\n          src\n          width\n          height\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>","timeToRead":3}}}},"pageContext":{"slug":"/packages/gatsby-source-pocket/","id":"67cb9f0e-c215-5a95-80d6-d8fe43271004"}}