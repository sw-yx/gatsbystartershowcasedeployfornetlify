{"data":{"markdownRemark":{"html":"<p>Creating your own source plugin.</p>\n<h2 id=\"what-this-tutorial-covers\"><a href=\"#what-this-tutorial-covers\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What this tutorial covers</h2>\n<p>In this tutorial you’ll create your own source plugin. Your plugin will source data from <a href=\"https://pixabay.com\">pixabay.com</a> allowing you to add Pixabay images to any Gatsby site.</p>\n<h2 id=\"what-is-a-source-plugin\"><a href=\"#what-is-a-source-plugin\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is a source plugin?</h2>\n<p>Source plugins “source” data from remote or local locations into what Gatsby calls <a href=\"/docs/node-interface/\">nodes</a>.</p>\n<p>For more background on source plugins, check out <a href=\"/docs/create-source-plugin/\">Gatsby’s source plugin documentation</a></p>\n<h2 id=\"why-create-a-source-plugin\"><a href=\"#why-create-a-source-plugin\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why create a source plugin?</h2>\n<p>Source plugins convert data from any source into a format that can be processed by Gatsby. Your Gatsby site could use several source plugins to combine data in interesting ways.</p>\n<p>If you can’t find a plugin for your data source you can create your own.</p>\n<h2 id=\"how-to-create-a-source-plugin\"><a href=\"#how-to-create-a-source-plugin\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to create a source plugin</h2>\n<h3 id=\"overview\"><a href=\"#overview\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h3>\n<p>Your plugin is going to source images from Pixabay. You’ll be able to configure your plugin in your site’s <code class=\"language-text\">gatsby-config.js</code> file and write GraphQL queries to access your plugin’s data.</p>\n<blockquote>\n<p><strong>NOTE:</strong> You’ll need a Pixabay API key which you can get by <a href=\"https://pixabay.com/en/accounts/register/\">registering for a Pixabay account</a>. Your API key is in the <a href=\"https://pixabay.com/api/docs/#api_search_images\">“Search Images” section of the Pixabay API docs</a>.</p>\n</blockquote>\n<h3 id=\"an-example-api-request\"><a href=\"#an-example-api-request\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>An example API request</h3>\n<p>Pixabay’s <a href=\"https://pixabay.com/api/docs/#api_search_images\">API documentation</a> describes how their API works. Here’s an example that uses a few options to search for photos:</p>\n<p><code class=\"language-text\">https://pixabay.com/api/?q=yellow+flowers&amp;editors_choice=true&amp;pretty=true&amp;key=&lt;YOUR_API_KEY_HERE&gt;</code></p>\n<p>Take the above URL and paste it in to a browser to see Pixabay’s response to your query. It gives you a list of photos matching the query “yellow flowers” that have received an Editor’s Choice award.</p>\n<blockquote>\n<p><strong>NOTE:</strong> You should replace <code class=\"language-text\">&lt;YOUR_API_KEY_HERE&gt;</code> with your Pixabay API key.</p>\n</blockquote>\n<h3 id=\"plugin-behavior\"><a href=\"#plugin-behavior\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin behavior</h3>\n<p>Your plugin will have the following behavior:</p>\n<ul>\n<li>Accept config options like a Pixabay API key and a search query</li>\n<li>Make an API request using the provided config options</li>\n<li>Convert the data in the API response to Gatsby’s node system</li>\n</ul>\n<h3 id=\"setup-a-new-gatsby-site\"><a href=\"#setup-a-new-gatsby-site\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setup a new Gatsby site</h3>\n<p>Create a new Gatsby project and change directories into the new project you just created.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">gatsby new source-tutorial-site\n<span class=\"token function\">cd</span> source-tutorial-site</code></pre>\n      </div>\n<p>You’re going to build your plugin as a “local” plugin that only exists for your project. Later on you’ll learn how to publish a plugin to <a href=\"https://npmjs.com\">npm</a> so anyone can use it, but for now create a <code class=\"language-text\">plugins</code> directory and change into that directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">mkdir</span> plugins\n<span class=\"token function\">cd</span> plugins</code></pre>\n      </div>\n<h3 id=\"create-a-code-classlanguage-textpluginscode-folder\"><a href=\"#create-a-code-classlanguage-textpluginscode-folder\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a <code class=\"language-text\">plugins</code> folder</h3>\n<p>The bare essentials of a plugin are a directory named after your plugin, which contains a <code class=\"language-text\">package.json</code> file and a <code class=\"language-text\">gatsby-node.js</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">|-- plugins\n    |-- gatsby-source-pixabay\n        |-- gatsby-node.js\n        |-- package.json</code></pre>\n      </div>\n<p>Start by creating the directory and changing into it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">mkdir gatsby-source-pixabay\ncd gatsby-source-pixabay</code></pre>\n      </div>\n<h3 id=\"create-a-code-classlanguage-textpackagejsoncode-file\"><a href=\"#create-a-code-classlanguage-textpackagejsoncode-file\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a <code class=\"language-text\">package.json</code> file</h3>\n<p>Now create a <code class=\"language-text\">package.json</code> file, this describes your plugin and any third-party code it might depend on. <code class=\"language-text\">npm</code> has a command to create this file for you. Run:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> init --yes</code></pre>\n      </div>\n<p>to create the file using default options.</p>\n<blockquote>\n<p><strong>NOTE:</strong> You can omit <code class=\"language-text\">--yes</code> if you’d like to specify the options yourself.</p>\n</blockquote>\n<h3 id=\"add-dependencies\"><a href=\"#add-dependencies\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Add dependencies</h3>\n<p>You’ll use a couple of modules from npm to add some helper functionality. Install them with:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> node-fetch query-string --save</code></pre>\n      </div>\n<p>Open your <code class=\"language-text\">package.json</code> file and you’ll see <code class=\"language-text\">node-fetch</code> and <code class=\"language-text\">query-string</code> have been added to a <code class=\"language-text\">dependencies</code> section at the end:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token string\">\"dependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"node-fetch\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.1.2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"query-string\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^6.0.0\"</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>With the setup done, move on to adding the plugin’s functionality.</p>\n<h3 id=\"create-a-code-classlanguage-textgatsby-nodejscode-file\"><a href=\"#create-a-code-classlanguage-textgatsby-nodejscode-file\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a <code class=\"language-text\">gatsby-node.js</code> file</h3>\n<p>Create a new file called <code class=\"language-text\">gatsby-node.js</code> in your <code class=\"language-text\">gatsby-source-pixabay</code> directory, and add the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"crypto\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"node-fetch\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> queryString <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"query-string\"</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sourceNodes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> createNodeId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> configOptions<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// Gatsby adds a configOption that's not needed for this plugin, delete it</span>\n  <span class=\"token keyword\">delete</span> configOptions<span class=\"token punctuation\">.</span>plugins\n\n  <span class=\"token comment\">// plugin code goes here...</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Testing my plugin\"</span><span class=\"token punctuation\">,</span> configOptions<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h3 id=\"step-by-step-through-your-code-classlanguage-textgatsby-nodejscode-file\"><a href=\"#step-by-step-through-your-code-classlanguage-textgatsby-nodejscode-file\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step by step through your <code class=\"language-text\">gatsby-node.js</code> file</h3>\n<p>What did you do by adding this code? You started by importing the dependencies that you added earlier (along with one built in dependency):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"crypto\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"node-fetch\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> queryString <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"query-string\"</span><span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<p>Then you implemented Gatsby’s <a href=\"/docs/node-apis/#sourceNodes\"><code class=\"language-text\">sourceNodes</code> API</a> which Gatsby will run as part of its bootstrap process. When Gatsby calls <code class=\"language-text\">sourceNodes</code>, it’ll pass in some helper functions (<code class=\"language-text\">actions</code> and <code class=\"language-text\">createNodeId</code>) along with any config options that are provided in your project’s <code class=\"language-text\">gatsby-config.js</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sourceNodes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> createNodeId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configOptions\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></code></pre>\n      </div>\n<p>You do some initial setup:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n<span class=\"token comment\">// Gatsby adds a configOption that's not needed for this plugin, delete it</span>\n<span class=\"token keyword\">delete</span> configOptions<span class=\"token punctuation\">.</span>plugins</code></pre>\n      </div>\n<p>And finally add a placeholder message:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// plugin code goes here...</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Testing my plugin\"</span><span class=\"token punctuation\">,</span> configOptions<span class=\"token punctuation\">)</span></code></pre>\n      </div>\n<h3 id=\"add-the-plugin-to-your-site\"><a href=\"#add-the-plugin-to-your-site\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Add the plugin to your site</h3>\n<p>The skeleton of your plugin is in place which means you can add it to your project and check your progress so far.</p>\n<p>Open <code class=\"language-text\">gatsby-config.js</code> from the root directory of your tutorial site, and add the <code class=\"language-text\">gatsby-source-pixabay</code> plugin:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Gatsby Default Starter\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"gatsby-plugin-react-helmet\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-source-pixabay\"</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        key<span class=\"token punctuation\">:</span> <span class=\"token string\">\"&lt;YOUR_API_KEY_HERE>\"</span><span class=\"token punctuation\">,</span>\n        q<span class=\"token punctuation\">:</span> <span class=\"token string\">\"yellow flowers\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Open a new terminal in the root directory of your tutorial site, then start Gatsby’s development mode:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">gatsby develop</code></pre>\n      </div>\n<p>Check the lines after <code class=\"language-text\">success on PreBootstrap</code>, you should see your “Testing my plugin” message along with the <code class=\"language-text\">key</code> from your <code class=\"language-text\">gatsby-config.js</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">success onPreBootstrap — 0.048 s\n⠁ Testing my plugin <span class=\"token punctuation\">{</span> key: <span class=\"token string\">'&lt;YOUR_API_KEY_HERE>'</span> <span class=\"token punctuation\">}</span>\nwarning The gatsby-source-pixabay plugin has generated no Gatsby nodes. Do you need it?\nsuccess <span class=\"token function\">source</span> and transform nodes — 0.057 s</code></pre>\n      </div>\n<p>Note that Gatsby is warning that your plugin doesn’t do anything yet. Time to fix that.</p>\n<h3 id=\"fetch-remote-data-from-pixabay\"><a href=\"#fetch-remote-data-from-pixabay\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fetch remote data from Pixabay</h3>\n<p>Update <code class=\"language-text\">gatsby-node.js</code> in your <code class=\"language-text\">plugins/gatsby-source-pixabay/</code> directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-fetch'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> queryString <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'query-string'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sourceNodes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> createNodeId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configOptions\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// Gatsby adds a configOption that's not needed for this plugin, delete it</span>\n  <span class=\"token keyword\">delete</span> configOptions<span class=\"token punctuation\">.</span>plugins\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// Convert the options object into a query string</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> apiOptions <span class=\"token operator\">=</span> queryString<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>configOptions<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// Join apiOptions with the Pixabay API URL</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> apiUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`https://pixabay.com/api/?</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiOptions<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// Gatsby expects sourceNodes to return a promise</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// Fetch a response from the apiUrl</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>apiUrl<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token comment\">// Parse the response as JSON</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token comment\">// Process the JSON data into a node</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token comment\">// For each query result (or 'hit')</span>\n</span><span class=\"gatsby-highlight-code-line\">        data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>photo <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Photo data is:\"</span><span class=\"token punctuation\">,</span> photo<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</span>  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>You’ve added code that fetches photo data from the Pixabay API. For now, your plugin logs that data but doesn’t do anything else. Check that you can see the logged photo data by restarting <code class=\"language-text\">gatsby develop</code>. This time you should see a series of results like:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\">\n      <pre class=\"language-shell\"><code class=\"language-shell\">success onPreBootstrap — 0.035 s\n⠠ <span class=\"token function\">source</span> and transform nodesresponse Response <span class=\"token punctuation\">{</span> size: 0, timeout: 0 <span class=\"token punctuation\">}</span>\nPhoto data is: <span class=\"token punctuation\">{</span> largeImageURL: <span class=\"token string\">'https://pixabay.com/get/ea36b70d29fd073ed1584d05fb1d4e9ee570e4d510ac104497f5c071a3efb6bd_1280.jpg'</span>,\n  webformatHeight: 426,\n  webformatWidth: 640,\n  likes: 17,\n  imageWidth: 5184,\n  id: 3362196,\n  user_id: 5598375,\n  views: 263,\n  comments: 24,\n  pageURL: <span class=\"token string\">'https://pixabay.com/en/dandelion-flower-yellow-nature-3362196/'</span>,\n  imageHeight: 3456,\n\n  <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">(</span>more data follows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</code></pre>\n      </div>\n<p>You’re ready to add the final step of your plugin - converting this data into a Gatsby node.</p>\n<h3 id=\"use-code-classlanguage-textcreatenodecode-function\"><a href=\"#use-code-classlanguage-textcreatenodecode-function\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use <code class=\"language-text\">createNode</code> function</h3>\n<p>You’re adding a helper function on lines 15 to 35 and processing the data into a node on lines 52 to 55:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\">\n      <pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fetch <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-fetch'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> queryString <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'query-string'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sourceNodes</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> boundActionCreators<span class=\"token punctuation\">,</span> createNodeId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  configOptions\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNode <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> boundActionCreators\n\n  <span class=\"token comment\">// Gatsby adds a configOption that's not needed for this plugin, delete it</span>\n  <span class=\"token keyword\">delete</span> configOptions<span class=\"token punctuation\">.</span>plugins\n\n  <span class=\"token comment\">// Helper function that processes a photo to match Gatsby's node structure</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">processPhoto</span> <span class=\"token operator\">=</span> photo <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> nodeId <span class=\"token operator\">=</span> <span class=\"token function\">createNodeId</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`pixabay-photo-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>photo<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> nodeContent <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>photo<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> nodeContentDigest <span class=\"token operator\">=</span> crypto\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">createHash</span><span class=\"token punctuation\">(</span><span class=\"token string\">'md5'</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>nodeContent<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> nodeData <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> photo<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">      id<span class=\"token punctuation\">:</span> nodeId<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      parent<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      internal<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">        type<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`PixabayPhoto`</span></span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">        content<span class=\"token punctuation\">:</span> nodeContent<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">        contentDigest<span class=\"token punctuation\">:</span> nodeContentDigest<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">return</span> nodeData\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span>\n</span>\n  <span class=\"token comment\">// Convert the options object into a query string</span>\n  <span class=\"token keyword\">const</span> apiOptions <span class=\"token operator\">=</span> queryString<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>configOptions<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// Join apiOptions with the Pixabay API URL</span>\n  <span class=\"token keyword\">const</span> apiUrl <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`https://pixabay.com/api/?</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>apiOptions<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n\n  <span class=\"token comment\">// Gatsby expects sourceNodes to return a promise</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// Fetch a response from the apiUrl</span>\n    <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>apiUrl<span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Parse the response as JSON</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>response <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token comment\">// Process the response data into a node</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>data <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// For each query result (or 'hit')</span>\n<span class=\"gatsby-highlight-code-line\">        data<span class=\"token punctuation\">.</span>hits<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>photo <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token comment\">// Process the photo data to match the structure of a Gatsby node</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token keyword\">const</span> nodeData <span class=\"token operator\">=</span> <span class=\"token function\">processPhoto</span><span class=\"token punctuation\">(</span>photo<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token comment\">// Use Gatsby's createNode helper to create a node from the node data</span>\n</span>          <span class=\"token function\">createNode</span><span class=\"token punctuation\">(</span>nodeData<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<h3 id=\"query-for-results\"><a href=\"#query-for-results\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query for results</h3>\n<p>Your plugin is ready. Restart <code class=\"language-text\">gatsby develop</code> and open a browser at <a href=\"http://localhost:8000/___graphql\">http://localhost:8000/___graphql</a>. The Pixabay data can be queried from here. try:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\">\n      <pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  allPixabayPhoto<span class=\"token punctuation\">(</span><span class=\"token attr-name\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    edges <span class=\"token punctuation\">{</span>\n      node <span class=\"token punctuation\">{</span>\n        largeImageURL\n        pageURL\n        tags\n        user\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n      </div>\n<p>Or <a href=\"http://localhost:8000/___graphql?query=%7B%0A%20%20allPixabayPhoto(limit%3A%2010)%20%7B%0A%20%20%20%20edges%20%7B%0A%20%20%20%20%20%20node%20%7B%0A%20%20%20%20%20%20%20%20largeImageURL%0A%20%20%20%20%20%20%20%20pageURL%0A%20%20%20%20%20%20%20%20tags%0A%20%20%20%20%20%20%20%20user%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A\">open the query from this link</a>.</p>\n<p>Experiment with different options in your <code class=\"language-text\">gatsby-config.js</code> file to see how that affects your query results. The <a href=\"https://pixabay.com/api/docs/#api_search_images\">Pixabay API docs</a> might be a useful reference.</p>\n<h2 id=\"publishing-a-plugin\"><a href=\"#publishing-a-plugin\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Publishing a plugin</h2>\n<p>You’ve built a local plugin for your project, but what if you want to share it with others? <code class=\"language-text\">npm</code> allows you to publish your plugins. Check out the npm docs on <a href=\"https://docs.npmjs.com/getting-started/publishing-npm-packages\">How to Publish &#x26; Update a Package</a> for more info.</p>\n<blockquote>\n<p><strong>NOTE:</strong> Don’t forget to edit your plugin’s <code class=\"language-text\">package.json</code> file to include info about your plugin.</p>\n</blockquote>\n<h2 id=\"summary\"><a href=\"#summary\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>You’ve written a local Gatsby plugin that:</p>\n<ul>\n<li>can be configured with an entry in your <code class=\"language-text\">gatsby-config.js</code> file</li>\n<li>requests data from a third-party API</li>\n<li>pulls the API data into Gatsby’s node system</li>\n<li>allows the data to be queried with GraphQL</li>\n</ul>\n<p>Congratulations!</p>\n<h2 id=\"where-next\"><a href=\"#where-next\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Where next?</h2>\n<p>Your plugin has been adapted from Jason Lengstorf’s <a href=\"https://www.npmjs.com/package/gatsby-source-pixabay\">gatsby-source-pixabay plugin</a>. Check out <a href=\"https://github.com/jlengstorf/gatsby-source-pixabay\">the source on GitHub</a>.</p>\n<p>Try adding new features to your plugin, for example - download images from Pixabay, improve error handling, add documentation or automated tests.</p>\n<p>Check out Gatsby’s docs on <a href=\"/docs/plugin-authoring/\">plugin authoring</a> and <a href=\"/docs/create-source-plugin\">creating a source plugin</a>.</p>\n<h3 id=\"a-note-on-javascript-versions\"><a href=\"#a-note-on-javascript-versions\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A note on JavaScript versions</h3>\n<p>In this tutorial you’ve written code in a version of JavaScript that’s compatible with Node.js version 6 and above.</p>\n<p>Jason’s version of <a href=\"https://github.com/jlengstorf/gatsby-source-pixabay/blob/master/src/gatsby-node.js\">the plugin</a> uses newer JavaScript features with <a href=\"https://babeljs.io/\">babel</a> to provide compatibility for older versions of Node. Compare your code with Jason’s to see how newer JavaScript features allow for more succinct code.</p>","excerpt":"Creating your own source plugin. What this tutorial covers In this tutorial you’ll create your own source plugin. Your plugin will source…","timeToRead":10,"fields":{"slug":"/docs/source-plugin-tutorial/","anchor":"source-plugin-tutorial"},"frontmatter":{"title":"Source Plugin Tutorial"},"parent":{"__typename":"File","relativePath":"docs/source-plugin-tutorial.md"}}},"pageContext":{"slug":"/docs/source-plugin-tutorial/"}}