{"data":{"markdownRemark":null,"npmPackage":{"name":"gatsby-source-airtable-linked","description":"Gatsby Airtable Source with Linked Nodes and Multiple Tables.","keywords":["gatsby","gatsby-plugin","gatsby-source","airtable"],"lastPublisher":{"name":"jbolda","avatar":"https://gravatar.com/avatar/c02111afdbe9776a53fb197c0f459fb4"},"repository":{"url":"https://github.com/jbolda/gatsby-source-airtable-linked"},"readme":{"childMarkdownRemark":{"html":"<h1 id=\"gatsby-source-airtable-linked\"><a href=\"#gatsby-source-airtable-linked\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-source-airtable-linked</h1>\n<p><a href=\"https://www.npmjs.com/package/gatsby-source-airtable-linked\"><img src=\"https://img.shields.io/npm/v/gatsby-source-airtable-linked.svg?style=flat-square\" alt=\"npm\"></a></p>\n<p>Gatsby source plugin for pulling rows from an Airtable. This plugin will allow multiple tables and bases. Additionally, it will link the columns that you manually specify. This was inspired by <a href=\"https://github.com/kevzettler/gatsby-source-airtable\">gatsby-source-airtable</a>, but due to the many breaking changes introduced, I started a new package (pretty much a complete rewrite).</p>\n<h2 id=\"install\"><a href=\"#install\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install</h2>\n<p><code class=\"language-text\">npm install --save gatsby-source-airtable-linked</code></p>\n<h2 id=\"how-to-use\"><a href=\"#how-to-use\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to use</h2>\n<p>Below is an example showing two tables. <code class=\"language-text\">tables</code> is always specified as an array. The tables may or may not be part of the same base. If you are using a field type of <code class=\"language-text\">Link to a Record</code>, you may specify the field name in <code class=\"language-text\">tableLinks</code> (matching the name shown in Airtable, not the escaped version) and this plugin will create the graphql links for you.</p>\n<p>Additionally you may provide a “mapping”. This will alert the plugin that column names you specify are of a specific, non-string format. This is particularly useful if you would like to have gatsby pick up the fields for transforming, e.g. <code class=\"language-text\">text/markdown</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\">\n      <pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// In gatsby-config.js</span>\nplugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-airtable-linked`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      apiKey<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_KEY`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// may instead specify via env, see below</span>\n      tables<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          baseId<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_BASE_ID`</span></span><span class=\"token punctuation\">,</span>\n          tableName<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_NAME`</span></span><span class=\"token punctuation\">,</span>\n          tableView<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_VIEW_NAME`</span></span><span class=\"token punctuation\">,</span>\n          queryName<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`OPTIONAL_NAME_TO_IDENTIFY_TABLE`</span></span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// optional</span>\n          mapping<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'COLUMN NAME AS SEEN IN AIRTABLE'</span><span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`VALUE_FORMAT`</span></span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// optional</span>\n          tableLinks<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`ARRAY_OF_STRINGS_REPRESENTING_COLUMN_NAMES`</span></span><span class=\"token punctuation\">]</span> <span class=\"token comment\">//optional</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          baseId<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_BASE_ID`</span></span><span class=\"token punctuation\">,</span>\n          tableName<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_NAME`</span></span><span class=\"token punctuation\">,</span>\n          tableView<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`YOUR_AIRTABLE_VIEW_NAME`</span></span>\n          <span class=\"token comment\">// can leave off queryName, mapping or tableLinks if not needed</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre>\n      </div>\n<h2 id=\"api-key\"><a href=\"#api-key\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Key</h2>\n<p>The API key can be specified in <code class=\"language-text\">gatsby-config.js</code> as noted in the previous section. Unfortunately, this exposes your key in your repository which is not great if especially if it is public. In addition, you may specify your API key using an <a href=\"https://www.gatsbyjs.org/docs/environment-variables/\">Environment Variable</a>. This plugin looks for an environment variable called <code class=\"language-text\">GATSBY_AIRTABLE_API_KEY</code> and will use it prior to resorting to the <code class=\"language-text\">apiKey</code> defined in <code class=\"language-text\">gatsby-config.js</code>.</p>\n<p>Note: If you add or your change your API key in an environment variable at the system level, you may need to reload your code editor / IDE for that variable to reload. You may also specify it in your command line such as <code class=\"language-text\">GATSBY_AIRTABLE_API_KEY=XXXXXX gatsby develop</code>.</p>\n<h2 id=\"how-to-query\"><a href=\"#how-to-query\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to Query</h2>\n<p>If you are looking for an array of rows, your query may look like below. You can optionally filter based on the table name, etc. if you only want rows from specific tables and/or bases.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">{\n  allAirtableLinked(filter: {table: {eq: &quot;Table 1&quot;}}) {\n    edges {\n      node {\n        id\n        data {\n          Column_Names_Matching_Tables\n          A_Linked_Field {\n            id\n            data {etc_data_fields}\n          }\n        }\n      }\n    }\n  }\n}</code></pre>\n      </div>\n<p>If you are looking for a single record, your query may look like below. It will always only return one record. You can filter down to one specific record as shown in the example. Otherwise, if your filters would return more than one record, it will instead only return the first record.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\">\n      <pre class=\"language-text\"><code class=\"language-text\">{\n  airtableLinked(table: {eq: &quot;Table 1&quot;}, data: {Column_Names_Matching_Tables: {eq: &quot;test2&quot;}}) {\n\t\tdata {\n\t\t  Column_Names_Matching_Tables\n\t\t}\n  }\n}</code></pre>\n      </div>","timeToRead":2}}}},"pageContext":{"slug":"/packages/gatsby-source-airtable-linked/","id":"a7b5bd47-3347-53a7-9cef-c712b6caf228"}}